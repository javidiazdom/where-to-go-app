{"E:\\GitHub\\where-to-go-app\\backend\\src\\tests\\__utils.js":{"path":"E:\\GitHub\\where-to-go-app\\backend\\src\\tests\\__utils.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":73}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":27},"end":{"line":12,"column":59}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":26}},"6":{"start":{"line":16,"column":15},"end":{"line":16,"column":53}},"7":{"start":{"line":18,"column":16},"end":{"line":18,"column":38}},"8":{"start":{"line":20,"column":17},"end":{"line":20,"column":40}},"9":{"start":{"line":22,"column":39},"end":{"line":22,"column":95}},"10":{"start":{"line":24,"column":65},"end":{"line":24,"column":623}},"11":{"start":{"line":24,"column":132},"end":{"line":24,"column":463}},"12":{"start":{"line":24,"column":252},"end":{"line":24,"column":267}},"13":{"start":{"line":24,"column":260},"end":{"line":24,"column":267}},"14":{"start":{"line":24,"column":276},"end":{"line":24,"column":277}},"15":{"start":{"line":24,"column":287},"end":{"line":24,"column":302}},"16":{"start":{"line":24,"column":304},"end":{"line":24,"column":461}},"17":{"start":{"line":24,"column":337},"end":{"line":24,"column":378}},"18":{"start":{"line":24,"column":356},"end":{"line":24,"column":378}},"19":{"start":{"line":24,"column":379},"end":{"line":24,"column":417}},"20":{"start":{"line":24,"column":441},"end":{"line":24,"column":450}},"21":{"start":{"line":24,"column":464},"end":{"line":24,"column":621}},"22":{"start":{"line":24,"column":647},"end":{"line":24,"column":651}},"23":{"start":{"line":24,"column":662},"end":{"line":24,"column":667}},"24":{"start":{"line":24,"column":674},"end":{"line":24,"column":995}},"25":{"start":{"line":24,"column":701},"end":{"line":24,"column":727}},"26":{"start":{"line":24,"column":760},"end":{"line":24,"column":769}},"27":{"start":{"line":24,"column":771},"end":{"line":24,"column":800}},"28":{"start":{"line":24,"column":801},"end":{"line":24,"column":813}},"29":{"start":{"line":24,"column":838},"end":{"line":24,"column":852}},"30":{"start":{"line":24,"column":853},"end":{"line":24,"column":863}},"31":{"start":{"line":24,"column":885},"end":{"line":24,"column":990}},"32":{"start":{"line":24,"column":891},"end":{"line":24,"column":953}},"33":{"start":{"line":24,"column":938},"end":{"line":24,"column":953}},"34":{"start":{"line":24,"column":966},"end":{"line":24,"column":988}},"35":{"start":{"line":24,"column":978},"end":{"line":24,"column":988}},"36":{"start":{"line":26,"column":50},"end":{"line":26,"column":65}},"37":{"start":{"line":26,"column":58},"end":{"line":26,"column":65}},"38":{"start":{"line":26,"column":66},"end":{"line":26,"column":129}},"39":{"start":{"line":26,"column":93},"end":{"line":26,"column":129}},"40":{"start":{"line":26,"column":138},"end":{"line":26,"column":184}},"41":{"start":{"line":26,"column":186},"end":{"line":26,"column":246}},"42":{"start":{"line":26,"column":223},"end":{"line":26,"column":246}},"43":{"start":{"line":26,"column":247},"end":{"line":26,"column":300}},"44":{"start":{"line":26,"column":279},"end":{"line":26,"column":300}},"45":{"start":{"line":26,"column":301},"end":{"line":26,"column":414}},"46":{"start":{"line":26,"column":378},"end":{"line":26,"column":414}},"47":{"start":{"line":28,"column":39},"end":{"line":28,"column":93}},"48":{"start":{"line":28,"column":76},"end":{"line":28,"column":93}},"49":{"start":{"line":28,"column":94},"end":{"line":28,"column":168}},"50":{"start":{"line":28,"column":107},"end":{"line":28,"column":108}},"51":{"start":{"line":28,"column":117},"end":{"line":28,"column":131}},"52":{"start":{"line":28,"column":149},"end":{"line":28,"column":166}},"53":{"start":{"line":28,"column":169},"end":{"line":28,"column":181}},"54":{"start":{"line":30,"column":77},"end":{"line":30,"column":175}},"55":{"start":{"line":30,"column":94},"end":{"line":30,"column":107}},"56":{"start":{"line":30,"column":121},"end":{"line":30,"column":131}},"57":{"start":{"line":30,"column":151},"end":{"line":30,"column":165}},"58":{"start":{"line":30,"column":166},"end":{"line":30,"column":173}},"59":{"start":{"line":30,"column":176},"end":{"line":30,"column":263}},"60":{"start":{"line":30,"column":193},"end":{"line":30,"column":208}},"61":{"start":{"line":30,"column":218},"end":{"line":30,"column":261}},"62":{"start":{"line":32,"column":33},"end":{"line":32,"column":387}},"63":{"start":{"line":32,"column":65},"end":{"line":32,"column":69}},"64":{"start":{"line":32,"column":78},"end":{"line":32,"column":87}},"65":{"start":{"line":32,"column":89},"end":{"line":32,"column":384}},"66":{"start":{"line":32,"column":147},"end":{"line":32,"column":167}},"67":{"start":{"line":32,"column":193},"end":{"line":32,"column":264}},"68":{"start":{"line":32,"column":290},"end":{"line":32,"column":360}},"69":{"start":{"line":32,"column":363},"end":{"line":32,"column":380}},"70":{"start":{"line":34,"column":14},"end":{"line":34,"column":59}},"71":{"start":{"line":36,"column":31},"end":{"line":85,"column":3}},"72":{"start":{"line":37,"column":13},"end":{"line":80,"column":5}},"73":{"start":{"line":39,"column":4},"end":{"line":79,"column":16}},"74":{"start":{"line":40,"column":6},"end":{"line":78,"column":7}},"75":{"start":{"line":41,"column":8},"end":{"line":77,"column":9}},"76":{"start":{"line":43,"column":12},"end":{"line":53,"column":15}},"77":{"start":{"line":47,"column":26},"end":{"line":47,"column":35}},"78":{"start":{"line":48,"column":27},"end":{"line":48,"column":58}},"79":{"start":{"line":49,"column":16},"end":{"line":51,"column":18}},"80":{"start":{"line":54,"column":12},"end":{"line":54,"column":45}},"81":{"start":{"line":55,"column":12},"end":{"line":57,"column":15}},"82":{"start":{"line":58,"column":12},"end":{"line":58,"column":30}},"83":{"start":{"line":59,"column":12},"end":{"line":62,"column":15}},"84":{"start":{"line":65,"column":12},"end":{"line":65,"column":30}},"85":{"start":{"line":66,"column":12},"end":{"line":68,"column":31}},"86":{"start":{"line":71,"column":12},"end":{"line":71,"column":39}},"87":{"start":{"line":72,"column":12},"end":{"line":72,"column":57}},"88":{"start":{"line":76,"column":12},"end":{"line":76,"column":35}},"89":{"start":{"line":82,"column":2},"end":{"line":84,"column":4}},"90":{"start":{"line":83,"column":4},"end":{"line":83,"column":39}},"91":{"start":{"line":87,"column":0},"end":{"line":87,"column":34}},"92":{"start":{"line":89,"column":35},"end":{"line":149,"column":3}},"93":{"start":{"line":90,"column":14},"end":{"line":144,"column":5}},"94":{"start":{"line":93,"column":4},"end":{"line":143,"column":42}},"95":{"start":{"line":94,"column":6},"end":{"line":142,"column":7}},"96":{"start":{"line":95,"column":8},"end":{"line":141,"column":9}},"97":{"start":{"line":97,"column":12},"end":{"line":97,"column":31}},"98":{"start":{"line":98,"column":12},"end":{"line":98,"column":68}},"99":{"start":{"line":101,"column":12},"end":{"line":101,"column":41}},"100":{"start":{"line":102,"column":12},"end":{"line":102,"column":64}},"101":{"start":{"line":103,"column":12},"end":{"line":103,"column":31}},"102":{"start":{"line":105,"column":12},"end":{"line":105,"column":26}},"103":{"start":{"line":108,"column":12},"end":{"line":111,"column":13}},"104":{"start":{"line":109,"column":14},"end":{"line":109,"column":34}},"105":{"start":{"line":110,"column":14},"end":{"line":110,"column":20}},"106":{"start":{"line":113,"column":12},"end":{"line":113,"column":37}},"107":{"start":{"line":114,"column":12},"end":{"line":114,"column":32}},"108":{"start":{"line":115,"column":12},"end":{"line":115,"column":37}},"109":{"start":{"line":118,"column":12},"end":{"line":118,"column":31}},"110":{"start":{"line":119,"column":12},"end":{"line":119,"column":18}},"111":{"start":{"line":122,"column":12},"end":{"line":122,"column":32}},"112":{"start":{"line":123,"column":12},"end":{"line":123,"column":18}},"113":{"start":{"line":126,"column":12},"end":{"line":126,"column":32}},"114":{"start":{"line":127,"column":12},"end":{"line":127,"column":49}},"115":{"start":{"line":129,"column":12},"end":{"line":129,"column":38}},"116":{"start":{"line":132,"column":12},"end":{"line":132,"column":32}},"117":{"start":{"line":134,"column":12},"end":{"line":134,"column":26}},"118":{"start":{"line":136,"column":12},"end":{"line":136,"column":40}},"119":{"start":{"line":140,"column":12},"end":{"line":140,"column":36}},"120":{"start":{"line":146,"column":2},"end":{"line":148,"column":4}},"121":{"start":{"line":147,"column":4},"end":{"line":147,"column":40}},"122":{"start":{"line":151,"column":0},"end":{"line":151,"column":42}},"123":{"start":{"line":153,"column":27},"end":{"line":180,"column":3}},"124":{"start":{"line":154,"column":14},"end":{"line":175,"column":5}},"125":{"start":{"line":156,"column":4},"end":{"line":174,"column":17}},"126":{"start":{"line":157,"column":6},"end":{"line":173,"column":7}},"127":{"start":{"line":158,"column":8},"end":{"line":172,"column":9}},"128":{"start":{"line":160,"column":12},"end":{"line":160,"column":31}},"129":{"start":{"line":161,"column":12},"end":{"line":163,"column":15}},"130":{"start":{"line":166,"column":12},"end":{"line":166,"column":35}},"131":{"start":{"line":167,"column":12},"end":{"line":167,"column":93}},"132":{"start":{"line":171,"column":12},"end":{"line":171,"column":36}},"133":{"start":{"line":177,"column":2},"end":{"line":179,"column":4}},"134":{"start":{"line":178,"column":4},"end":{"line":178,"column":40}},"135":{"start":{"line":182,"column":0},"end":{"line":182,"column":26}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":31}},"loc":{"start":{"line":22,"column":37},"end":{"line":22,"column":97}},"line":22},"1":{"name":"_createForOfIteratorHelper","decl":{"start":{"line":24,"column":9},"end":{"line":24,"column":35}},"loc":{"start":{"line":24,"column":55},"end":{"line":24,"column":997}},"line":24},"2":{"name":"F","decl":{"start":{"line":24,"column":296},"end":{"line":24,"column":297}},"loc":{"start":{"line":24,"column":300},"end":{"line":24,"column":302}},"line":24},"3":{"name":"n","decl":{"start":{"line":24,"column":331},"end":{"line":24,"column":332}},"loc":{"start":{"line":24,"column":335},"end":{"line":24,"column":419}},"line":24},"4":{"name":"e","decl":{"start":{"line":24,"column":433},"end":{"line":24,"column":434}},"loc":{"start":{"line":24,"column":439},"end":{"line":24,"column":452}},"line":24},"5":{"name":"s","decl":{"start":{"line":24,"column":695},"end":{"line":24,"column":696}},"loc":{"start":{"line":24,"column":699},"end":{"line":24,"column":729}},"line":24},"6":{"name":"n","decl":{"start":{"line":24,"column":743},"end":{"line":24,"column":744}},"loc":{"start":{"line":24,"column":747},"end":{"line":24,"column":815}},"line":24},"7":{"name":"e","decl":{"start":{"line":24,"column":829},"end":{"line":24,"column":830}},"loc":{"start":{"line":24,"column":836},"end":{"line":24,"column":865}},"line":24},"8":{"name":"f","decl":{"start":{"line":24,"column":879},"end":{"line":24,"column":880}},"loc":{"start":{"line":24,"column":883},"end":{"line":24,"column":992}},"line":24},"9":{"name":"_unsupportedIterableToArray","decl":{"start":{"line":26,"column":9},"end":{"line":26,"column":36}},"loc":{"start":{"line":26,"column":48},"end":{"line":26,"column":416}},"line":26},"10":{"name":"_arrayLikeToArray","decl":{"start":{"line":28,"column":9},"end":{"line":28,"column":26}},"loc":{"start":{"line":28,"column":37},"end":{"line":28,"column":183}},"line":28},"11":{"name":"asyncGeneratorStep","decl":{"start":{"line":30,"column":9},"end":{"line":30,"column":27}},"loc":{"start":{"line":30,"column":75},"end":{"line":30,"column":265}},"line":30},"12":{"name":"_asyncToGenerator","decl":{"start":{"line":32,"column":9},"end":{"line":32,"column":26}},"loc":{"start":{"line":32,"column":31},"end":{"line":32,"column":389}},"line":32},"13":{"name":"(anonymous_13)","decl":{"start":{"line":32,"column":40},"end":{"line":32,"column":41}},"loc":{"start":{"line":32,"column":52},"end":{"line":32,"column":386}},"line":32},"14":{"name":"(anonymous_14)","decl":{"start":{"line":32,"column":108},"end":{"line":32,"column":109}},"loc":{"start":{"line":32,"column":135},"end":{"line":32,"column":382}},"line":32},"15":{"name":"_next","decl":{"start":{"line":32,"column":178},"end":{"line":32,"column":183}},"loc":{"start":{"line":32,"column":191},"end":{"line":32,"column":266}},"line":32},"16":{"name":"_throw","decl":{"start":{"line":32,"column":276},"end":{"line":32,"column":282}},"loc":{"start":{"line":32,"column":288},"end":{"line":32,"column":362}},"line":32},"17":{"name":"(anonymous_17)","decl":{"start":{"line":36,"column":31},"end":{"line":36,"column":32}},"loc":{"start":{"line":36,"column":43},"end":{"line":85,"column":1}},"line":36},"18":{"name":"_callee","decl":{"start":{"line":37,"column":78},"end":{"line":37,"column":85}},"loc":{"start":{"line":37,"column":88},"end":{"line":80,"column":3}},"line":37},"19":{"name":"_callee$","decl":{"start":{"line":39,"column":44},"end":{"line":39,"column":52}},"loc":{"start":{"line":39,"column":63},"end":{"line":79,"column":5}},"line":39},"20":{"name":"context","decl":{"start":{"line":46,"column":32},"end":{"line":46,"column":39}},"loc":{"start":{"line":46,"column":47},"end":{"line":52,"column":15}},"line":46},"21":{"name":"(anonymous_21)","decl":{"start":{"line":68,"column":15},"end":{"line":68,"column":16}},"loc":{"start":{"line":68,"column":27},"end":{"line":68,"column":29}},"line":68},"22":{"name":"startServer","decl":{"start":{"line":82,"column":18},"end":{"line":82,"column":29}},"loc":{"start":{"line":82,"column":32},"end":{"line":84,"column":3}},"line":82},"23":{"name":"(anonymous_23)","decl":{"start":{"line":89,"column":35},"end":{"line":89,"column":36}},"loc":{"start":{"line":89,"column":47},"end":{"line":149,"column":1}},"line":89},"24":{"name":"_callee2","decl":{"start":{"line":90,"column":79},"end":{"line":90,"column":87}},"loc":{"start":{"line":90,"column":90},"end":{"line":144,"column":3}},"line":90},"25":{"name":"_callee2$","decl":{"start":{"line":93,"column":44},"end":{"line":93,"column":53}},"loc":{"start":{"line":93,"column":65},"end":{"line":143,"column":5}},"line":93},"26":{"name":"dropCollections","decl":{"start":{"line":146,"column":18},"end":{"line":146,"column":33}},"loc":{"start":{"line":146,"column":36},"end":{"line":148,"column":3}},"line":146},"27":{"name":"(anonymous_27)","decl":{"start":{"line":153,"column":27},"end":{"line":153,"column":28}},"loc":{"start":{"line":153,"column":39},"end":{"line":180,"column":1}},"line":153},"28":{"name":"_callee3","decl":{"start":{"line":154,"column":79},"end":{"line":154,"column":87}},"loc":{"start":{"line":154,"column":90},"end":{"line":175,"column":3}},"line":154},"29":{"name":"_callee3$","decl":{"start":{"line":156,"column":44},"end":{"line":156,"column":53}},"loc":{"start":{"line":156,"column":65},"end":{"line":174,"column":5}},"line":156},"30":{"name":"getAuth","decl":{"start":{"line":177,"column":18},"end":{"line":177,"column":25}},"loc":{"start":{"line":177,"column":28},"end":{"line":179,"column":3}},"line":177}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":46},"end":{"line":22,"column":94}},"type":"cond-expr","locations":[{"start":{"line":22,"column":70},"end":{"line":22,"column":73}},{"start":{"line":22,"column":76},"end":{"line":22,"column":94}}],"line":22},"1":{"loc":{"start":{"line":22,"column":46},"end":{"line":22,"column":67}},"type":"binary-expr","locations":[{"start":{"line":22,"column":46},"end":{"line":22,"column":49}},{"start":{"line":22,"column":53},"end":{"line":22,"column":67}}],"line":22},"2":{"loc":{"start":{"line":24,"column":65},"end":{"line":24,"column":623}},"type":"if","locations":[{"start":{"line":24,"column":65},"end":{"line":24,"column":623}},{"start":{"line":24,"column":65},"end":{"line":24,"column":623}}],"line":24},"3":{"loc":{"start":{"line":24,"column":69},"end":{"line":24,"column":128}},"type":"binary-expr","locations":[{"start":{"line":24,"column":69},"end":{"line":24,"column":98}},{"start":{"line":24,"column":102},"end":{"line":24,"column":128}}],"line":24},"4":{"loc":{"start":{"line":24,"column":132},"end":{"line":24,"column":463}},"type":"if","locations":[{"start":{"line":24,"column":132},"end":{"line":24,"column":463}},{"start":{"line":24,"column":132},"end":{"line":24,"column":463}}],"line":24},"5":{"loc":{"start":{"line":24,"column":136},"end":{"line":24,"column":248}},"type":"binary-expr","locations":[{"start":{"line":24,"column":136},"end":{"line":24,"column":152}},{"start":{"line":24,"column":157},"end":{"line":24,"column":192}},{"start":{"line":24,"column":197},"end":{"line":24,"column":211}},{"start":{"line":24,"column":215},"end":{"line":24,"column":216}},{"start":{"line":24,"column":220},"end":{"line":24,"column":248}}],"line":24},"6":{"loc":{"start":{"line":24,"column":252},"end":{"line":24,"column":267}},"type":"if","locations":[{"start":{"line":24,"column":252},"end":{"line":24,"column":267}},{"start":{"line":24,"column":252},"end":{"line":24,"column":267}}],"line":24},"7":{"loc":{"start":{"line":24,"column":337},"end":{"line":24,"column":378}},"type":"if","locations":[{"start":{"line":24,"column":337},"end":{"line":24,"column":378}},{"start":{"line":24,"column":337},"end":{"line":24,"column":378}}],"line":24},"8":{"loc":{"start":{"line":24,"column":891},"end":{"line":24,"column":953}},"type":"if","locations":[{"start":{"line":24,"column":891},"end":{"line":24,"column":953}},{"start":{"line":24,"column":891},"end":{"line":24,"column":953}}],"line":24},"9":{"loc":{"start":{"line":24,"column":895},"end":{"line":24,"column":936}},"type":"binary-expr","locations":[{"start":{"line":24,"column":895},"end":{"line":24,"column":912}},{"start":{"line":24,"column":916},"end":{"line":24,"column":936}}],"line":24},"10":{"loc":{"start":{"line":24,"column":966},"end":{"line":24,"column":988}},"type":"if","locations":[{"start":{"line":24,"column":966},"end":{"line":24,"column":988}},{"start":{"line":24,"column":966},"end":{"line":24,"column":988}}],"line":24},"11":{"loc":{"start":{"line":26,"column":50},"end":{"line":26,"column":65}},"type":"if","locations":[{"start":{"line":26,"column":50},"end":{"line":26,"column":65}},{"start":{"line":26,"column":50},"end":{"line":26,"column":65}}],"line":26},"12":{"loc":{"start":{"line":26,"column":66},"end":{"line":26,"column":129}},"type":"if","locations":[{"start":{"line":26,"column":66},"end":{"line":26,"column":129}},{"start":{"line":26,"column":66},"end":{"line":26,"column":129}}],"line":26},"13":{"loc":{"start":{"line":26,"column":186},"end":{"line":26,"column":246}},"type":"if","locations":[{"start":{"line":26,"column":186},"end":{"line":26,"column":246}},{"start":{"line":26,"column":186},"end":{"line":26,"column":246}}],"line":26},"14":{"loc":{"start":{"line":26,"column":190},"end":{"line":26,"column":221}},"type":"binary-expr","locations":[{"start":{"line":26,"column":190},"end":{"line":26,"column":204}},{"start":{"line":26,"column":208},"end":{"line":26,"column":221}}],"line":26},"15":{"loc":{"start":{"line":26,"column":247},"end":{"line":26,"column":300}},"type":"if","locations":[{"start":{"line":26,"column":247},"end":{"line":26,"column":300}},{"start":{"line":26,"column":247},"end":{"line":26,"column":300}}],"line":26},"16":{"loc":{"start":{"line":26,"column":251},"end":{"line":26,"column":277}},"type":"binary-expr","locations":[{"start":{"line":26,"column":251},"end":{"line":26,"column":262}},{"start":{"line":26,"column":266},"end":{"line":26,"column":277}}],"line":26},"17":{"loc":{"start":{"line":26,"column":301},"end":{"line":26,"column":414}},"type":"if","locations":[{"start":{"line":26,"column":301},"end":{"line":26,"column":414}},{"start":{"line":26,"column":301},"end":{"line":26,"column":414}}],"line":26},"18":{"loc":{"start":{"line":26,"column":305},"end":{"line":26,"column":376}},"type":"binary-expr","locations":[{"start":{"line":26,"column":305},"end":{"line":26,"column":322}},{"start":{"line":26,"column":326},"end":{"line":26,"column":376}}],"line":26},"19":{"loc":{"start":{"line":28,"column":39},"end":{"line":28,"column":93}},"type":"if","locations":[{"start":{"line":28,"column":39},"end":{"line":28,"column":93}},{"start":{"line":28,"column":39},"end":{"line":28,"column":93}}],"line":28},"20":{"loc":{"start":{"line":28,"column":43},"end":{"line":28,"column":74}},"type":"binary-expr","locations":[{"start":{"line":28,"column":43},"end":{"line":28,"column":54}},{"start":{"line":28,"column":58},"end":{"line":28,"column":74}}],"line":28},"21":{"loc":{"start":{"line":30,"column":176},"end":{"line":30,"column":263}},"type":"if","locations":[{"start":{"line":30,"column":176},"end":{"line":30,"column":263}},{"start":{"line":30,"column":176},"end":{"line":30,"column":263}}],"line":30},"22":{"loc":{"start":{"line":41,"column":8},"end":{"line":77,"column":9}},"type":"switch","locations":[{"start":{"line":42,"column":10},"end":{"line":62,"column":15}},{"start":{"line":64,"column":10},"end":{"line":68,"column":31}},{"start":{"line":70,"column":10},"end":{"line":72,"column":57}},{"start":{"line":74,"column":10},"end":{"line":74,"column":17}},{"start":{"line":75,"column":10},"end":{"line":76,"column":35}}],"line":41},"23":{"loc":{"start":{"line":48,"column":27},"end":{"line":48,"column":58}},"type":"binary-expr","locations":[{"start":{"line":48,"column":27},"end":{"line":48,"column":52}},{"start":{"line":48,"column":56},"end":{"line":48,"column":58}}],"line":48},"24":{"loc":{"start":{"line":95,"column":8},"end":{"line":141,"column":9}},"type":"switch","locations":[{"start":{"line":96,"column":10},"end":{"line":98,"column":68}},{"start":{"line":100,"column":10},"end":{"line":105,"column":26}},{"start":{"line":107,"column":10},"end":{"line":115,"column":37}},{"start":{"line":117,"column":10},"end":{"line":119,"column":18}},{"start":{"line":121,"column":10},"end":{"line":123,"column":18}},{"start":{"line":125,"column":10},"end":{"line":129,"column":38}},{"start":{"line":131,"column":10},"end":{"line":136,"column":40}},{"start":{"line":138,"column":10},"end":{"line":138,"column":18}},{"start":{"line":139,"column":10},"end":{"line":140,"column":36}}],"line":95},"25":{"loc":{"start":{"line":108,"column":12},"end":{"line":111,"column":13}},"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":111,"column":13}},{"start":{"line":108,"column":12},"end":{"line":111,"column":13}}],"line":108},"26":{"loc":{"start":{"line":158,"column":8},"end":{"line":172,"column":9}},"type":"switch","locations":[{"start":{"line":159,"column":10},"end":{"line":163,"column":15}},{"start":{"line":165,"column":10},"end":{"line":167,"column":93}},{"start":{"line":169,"column":10},"end":{"line":169,"column":17}},{"start":{"line":170,"column":10},"end":{"line":171,"column":36}}],"line":158}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":2,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1,"24":1,"25":1,"26":5,"27":5,"28":5,"29":0,"30":0,"31":1,"32":1,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":15,"55":15,"56":15,"57":0,"58":0,"59":15,"60":5,"61":10,"62":3,"63":5,"64":5,"65":5,"66":5,"67":15,"68":0,"69":5,"70":1,"71":1,"72":1,"73":1,"74":4,"75":4,"76":1,"77":21,"78":21,"79":21,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":7,"96":13,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":5,"104":1,"105":1,"106":4,"107":4,"108":4,"109":4,"110":4,"111":1,"112":1,"113":0,"114":0,"115":0,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":3,"126":9,"127":9,"128":3,"129":3,"130":3,"131":3,"132":3,"133":1,"134":3,"135":1},"f":{"0":2,"1":1,"2":0,"3":0,"4":0,"5":1,"6":5,"7":0,"8":1,"9":0,"10":0,"11":15,"12":3,"13":5,"14":5,"15":15,"16":0,"17":1,"18":1,"19":4,"20":21,"21":1,"22":1,"23":1,"24":1,"25":7,"26":1,"27":1,"28":3,"29":9,"30":3},"b":{"0":[0,2],"1":[2,2],"2":[0,1],"3":[1,1],"4":[0,0],"5":[0,0,0,0,0],"6":[0,0],"7":[0,0],"8":[0,1],"9":[1,0],"10":[0,1],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[5,10],"22":[1,1,1,0,1],"23":[21,8],"24":[1,1,5,4,1,0,1,1,1],"25":[1,4],"26":[3,3,0,3]},"inputSourceMap":{"version":3,"sources":["__utils.js"],"names":["request","require","startServer","server","ApolloServer","typeDefs","resolvers","context","req","auth","headers","authorization","app","applyMiddleware","mongoose","connect","useNewUrlParser","useUnifiedTopology","listen","port","serverExec","dropCollections","connection","db","collections","collection","drop","getAuth","post","send","query","login","body","data","token"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,WAAD,CAAP,CAAqB,uBAArB,CAAhB;;AAEO,IAAMC,WAAW;AAAA,qEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBC,YAAAA,MADmB,GACV,IAAIC,iCAAJ,CAAiB;AAC9BC,cAAAA,QAAQ,EAARA,kBAD8B;AAE9BC,cAAAA,SAAS,EAATA,oBAF8B;AAG9BC,cAAAA,OAAO,EAAE,wBAAa;AAAA,oBAAVC,GAAU,SAAVA,GAAU;AACpB,oBAAMC,IAAI,GAAGD,GAAG,CAACE,OAAJ,CAAYC,aAAZ,IAA6B,EAA1C;AACA,uBAAO;AAAEF,kBAAAA,IAAI,EAAJA;AAAF,iBAAP;AACD;AAN6B,aAAjB,CADU;AASnBG,YAAAA,GATmB,GASb,0BATa;AAWzBT,YAAAA,MAAM,CAACU,eAAP,CAAuB;AAAED,cAAAA,GAAG,EAAHA;AAAF,aAAvB;AAXyB;AAAA,mBAanBE,qBAASC,OAAT,CAAiB,gCAAjB,EAAmD;AACvDC,cAAAA,eAAe,EAAE,IADsC;AAEvDC,cAAAA,kBAAkB,EAAE;AAFmC,aAAnD,CAbmB;;AAAA;AAAA;AAAA,mBAkBAL,GAAG,CAACM,MAAJ,CAAW;AAAEC,cAAAA,IAAI,EAAE;AAAR,aAAX,EAA2B,YAAM,CAAE,CAAnC,CAlBA;;AAAA;AAkBnBC,YAAAA,UAlBmB;AAAA,6CAoBlBA,UApBkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAXlB,WAAW;AAAA;AAAA;AAAA,GAAjB;;;;AAuBA,IAAMmB,eAAe;AAAA,sEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACHP,qBAASQ,UAAT,CAAoBC,EAApB,CAAuBC,WAAvB,EADG;;AAAA;AACvBA,YAAAA,WADuB;AAAA,mDAGNA,WAHM;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAGpBC,YAAAA,UAHoB;AAAA;AAAA,mBAIrBA,UAAU,CAACC,IAAX,EAJqB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAfL,eAAe;AAAA;AAAA;AAAA,GAArB;;;;AAQA,IAAMM,OAAO;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACD3B,OAAO,CAAC4B,IAAR,CAAa,UAAb,EAAyBC,IAAzB,CAA8B;AAChDC,cAAAA,KAAK,EACH;AAF8C,aAA9B,CADC;;AAAA;AACfC,YAAAA,KADe;AAAA,+DAKJA,KAAK,CAACC,IAAN,CAAWC,IAAX,CAAgBF,KAAhB,CAAsBG,KALlB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAPP,OAAO;AAAA;AAAA;AAAA,GAAb","sourceRoot":"E:\\GitHub\\where-to-go-app\\backend\\src\\tests\\","sourcesContent":["import mongoose from 'mongoose';\nimport express from 'express';\nimport { ApolloServer } from 'apollo-server-express';\nimport 'core-js/stable';\nimport 'regenerator-runtime/runtime';\nimport { typeDefs } from '../typeDefs';\nimport { resolvers } from '../resolvers';\nimport { async } from 'regenerator-runtime/runtime';\nconst request = require('supertest')('http://localhost:4040');\n\nexport const startServer = async () => {\n  const server = new ApolloServer({\n    typeDefs,\n    resolvers,\n    context: ({ req }) => {\n      const auth = req.headers.authorization || '';\n      return { auth };\n    },\n  });\n  const app = express();\n\n  server.applyMiddleware({ app });\n\n  await mongoose.connect('mongodb://localhost:27017/test', {\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n  });\n\n  const serverExec = await app.listen({ port: 4040 }, () => {});\n\n  return serverExec;\n};\n\nexport const dropCollections = async () => {\n  const collections = await mongoose.connection.db.collections();\n\n  for (let collection of collections) {\n    await collection.drop();\n  }\n};\n\nexport const getAuth = async () => {\n  const login = await request.post('/graphql').send({\n    query:\n      'mutation { login (email: \"test1@gmail.com\", password: \"1234\") { token } }',\n  });\n  return `Bearer ${login.body.data.login.token}`;\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ed0deef9860fad82d29fe8c8afbc4d1864125c18","contentHash":"9dc250ea773daf77a2f14f00665054741c92a61c6c0280b21fb3085e625a06fc"},"E:\\GitHub\\where-to-go-app\\backend\\src\\typeDefs.js":{"path":"E:\\GitHub\\where-to-go-app\\backend\\src\\typeDefs.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":26}},"2":{"start":{"line":8,"column":27},"end":{"line":8,"column":59}},"3":{"start":{"line":12,"column":48},"end":{"line":12,"column":85}},"4":{"start":{"line":12,"column":60},"end":{"line":12,"column":83}},"5":{"start":{"line":12,"column":86},"end":{"line":12,"column":181}},"6":{"start":{"line":14,"column":15},"end":{"line":14,"column":1493}},"7":{"start":{"line":15,"column":0},"end":{"line":15,"column":28}}},"fnMap":{"0":{"name":"_taggedTemplateLiteral","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":183}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":48},"end":{"line":12,"column":85}},"type":"if","locations":[{"start":{"line":12,"column":48},"end":{"line":12,"column":85}},{"start":{"line":12,"column":48},"end":{"line":12,"column":85}}],"line":12},"1":{"loc":{"start":{"line":14,"column":45},"end":{"line":14,"column":1492}},"type":"binary-expr","locations":[{"start":{"line":14,"column":45},"end":{"line":14,"column":60}},{"start":{"line":14,"column":65},"end":{"line":14,"column":1491}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[1,0],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["typeDefs.js"],"names":["typeDefs","gql"],"mappings":";;;;;;;AAAA;;;;;;AAEO,IAAMA,QAAQ,OAAGC,wBAAH,06CAAd","sourceRoot":"E:\\GitHub\\where-to-go-app\\backend\\src\\","sourcesContent":["import { gql } from 'apollo-server-express';\n\nexport const typeDefs = gql`\n  type GeoLocation {\n    type: String\n    coordinates: [Float]\n  }\n\n  type Rating {\n    rating: [Int]\n  }\n\n  type ProtocolRating {\n    locationId: ID\n    user: [User]\n    ratings: [Rating]\n  }\n\n  type LocationHistory {\n    location: Location\n    date: String\n  }\n\n  type Location {\n    geoLocation: GeoLocation\n    name: String\n    predictedAssistance: Int\n    protocolRatings: [ProtocolRating]\n  }\n\n  type User {\n    name: String\n    email: String\n    password: String\n    locationHistory: [LocationHistory]\n    ratingHistory: [ProtocolRating]\n  }\n\n  type Query {\n    location(latlng: [Float]): Location\n    locationRatings(location: LocationInput!): LocationRatings\n  }\n\n  input LocationInput {\n    name: String\n    coordinates: [Float]\n  }\n\n  type LoginOutput {\n    user: User\n    token: String\n  }\n\n  type StatusResponse {\n    status: Boolean\n    message: String\n  }\n\n  type LocationRatings {\n    mainAverage: Float\n    averagesCount: Int\n    averages: [Float]\n  }\n\n  type Mutation {\n    register(email: String!, password: String!, name: String!): Boolean\n    login(email: String!, password: String!): LoginOutput\n    addLocation(location: LocationInput!): Location\n    noteForAssistance(location: LocationInput!): Location\n    rateLocation(location: LocationInput!, ratings: [Float]!): StatusResponse\n  }\n`;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"056d628060ef869536a20b4eb46ae562a923cef5","contentHash":"11de800fdbe57a68e7042d5f1887021fba9c1836d85aae8ee009ec70e456e775"},"E:\\GitHub\\where-to-go-app\\backend\\src\\resolvers.js":{"path":"E:\\GitHub\\where-to-go-app\\backend\\src\\resolvers.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":52}},"3":{"start":{"line":10,"column":17},"end":{"line":10,"column":61}},"4":{"start":{"line":12,"column":22},"end":{"line":12,"column":72}},"5":{"start":{"line":14,"column":77},"end":{"line":14,"column":175}},"6":{"start":{"line":14,"column":94},"end":{"line":14,"column":107}},"7":{"start":{"line":14,"column":121},"end":{"line":14,"column":131}},"8":{"start":{"line":14,"column":151},"end":{"line":14,"column":165}},"9":{"start":{"line":14,"column":166},"end":{"line":14,"column":173}},"10":{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},"11":{"start":{"line":14,"column":193},"end":{"line":14,"column":208}},"12":{"start":{"line":14,"column":218},"end":{"line":14,"column":261}},"13":{"start":{"line":16,"column":33},"end":{"line":16,"column":387}},"14":{"start":{"line":16,"column":65},"end":{"line":16,"column":69}},"15":{"start":{"line":16,"column":78},"end":{"line":16,"column":87}},"16":{"start":{"line":16,"column":89},"end":{"line":16,"column":384}},"17":{"start":{"line":16,"column":147},"end":{"line":16,"column":167}},"18":{"start":{"line":16,"column":193},"end":{"line":16,"column":264}},"19":{"start":{"line":16,"column":290},"end":{"line":16,"column":360}},"20":{"start":{"line":16,"column":363},"end":{"line":16,"column":380}},"21":{"start":{"line":18,"column":16},"end":{"line":228,"column":1}},"22":{"start":{"line":21,"column":22},"end":{"line":41,"column":9}},"23":{"start":{"line":23,"column":8},"end":{"line":40,"column":20}},"24":{"start":{"line":24,"column":10},"end":{"line":39,"column":11}},"25":{"start":{"line":25,"column":12},"end":{"line":38,"column":13}},"26":{"start":{"line":27,"column":16},"end":{"line":27,"column":37}},"27":{"start":{"line":28,"column":16},"end":{"line":28,"column":34}},"28":{"start":{"line":29,"column":16},"end":{"line":29,"column":34}},"29":{"start":{"line":30,"column":16},"end":{"line":30,"column":113}},"30":{"start":{"line":33,"column":16},"end":{"line":33,"column":64}},"31":{"start":{"line":37,"column":16},"end":{"line":37,"column":39}},"32":{"start":{"line":44,"column":8},"end":{"line":44,"column":48}},"33":{"start":{"line":47,"column":6},"end":{"line":47,"column":22}},"34":{"start":{"line":50,"column":29},"end":{"line":70,"column":9}},"35":{"start":{"line":52,"column":8},"end":{"line":69,"column":21}},"36":{"start":{"line":53,"column":10},"end":{"line":68,"column":11}},"37":{"start":{"line":54,"column":12},"end":{"line":67,"column":13}},"38":{"start":{"line":56,"column":16},"end":{"line":56,"column":42}},"39":{"start":{"line":57,"column":16},"end":{"line":57,"column":34}},"40":{"start":{"line":58,"column":16},"end":{"line":58,"column":35}},"41":{"start":{"line":59,"column":16},"end":{"line":59,"column":141}},"42":{"start":{"line":62,"column":16},"end":{"line":62,"column":66}},"43":{"start":{"line":66,"column":16},"end":{"line":66,"column":40}},"44":{"start":{"line":73,"column":8},"end":{"line":73,"column":55}},"45":{"start":{"line":76,"column":6},"end":{"line":76,"column":29}},"46":{"start":{"line":81,"column":19},"end":{"line":101,"column":9}},"47":{"start":{"line":83,"column":8},"end":{"line":100,"column":21}},"48":{"start":{"line":84,"column":10},"end":{"line":99,"column":11}},"49":{"start":{"line":85,"column":12},"end":{"line":98,"column":13}},"50":{"start":{"line":87,"column":16},"end":{"line":87,"column":63}},"51":{"start":{"line":88,"column":16},"end":{"line":88,"column":34}},"52":{"start":{"line":89,"column":16},"end":{"line":89,"column":35}},"53":{"start":{"line":90,"column":16},"end":{"line":90,"column":73}},"54":{"start":{"line":93,"column":16},"end":{"line":93,"column":66}},"55":{"start":{"line":97,"column":16},"end":{"line":97,"column":40}},"56":{"start":{"line":104,"column":8},"end":{"line":104,"column":45}},"57":{"start":{"line":107,"column":6},"end":{"line":107,"column":19}},"58":{"start":{"line":110,"column":22},"end":{"line":129,"column":9}},"59":{"start":{"line":112,"column":8},"end":{"line":128,"column":21}},"60":{"start":{"line":113,"column":10},"end":{"line":127,"column":11}},"61":{"start":{"line":114,"column":12},"end":{"line":126,"column":13}},"62":{"start":{"line":116,"column":16},"end":{"line":116,"column":82}},"63":{"start":{"line":117,"column":16},"end":{"line":117,"column":35}},"64":{"start":{"line":118,"column":16},"end":{"line":118,"column":76}},"65":{"start":{"line":121,"column":16},"end":{"line":121,"column":66}},"66":{"start":{"line":125,"column":16},"end":{"line":125,"column":40}},"67":{"start":{"line":132,"column":8},"end":{"line":132,"column":48}},"68":{"start":{"line":135,"column":6},"end":{"line":135,"column":22}},"69":{"start":{"line":138,"column":25},"end":{"line":158,"column":9}},"70":{"start":{"line":140,"column":8},"end":{"line":157,"column":21}},"71":{"start":{"line":141,"column":10},"end":{"line":156,"column":11}},"72":{"start":{"line":142,"column":12},"end":{"line":155,"column":13}},"73":{"start":{"line":144,"column":16},"end":{"line":144,"column":42}},"74":{"start":{"line":145,"column":16},"end":{"line":145,"column":34}},"75":{"start":{"line":146,"column":16},"end":{"line":146,"column":35}},"76":{"start":{"line":147,"column":16},"end":{"line":147,"column":115}},"77":{"start":{"line":150,"column":16},"end":{"line":150,"column":66}},"78":{"start":{"line":154,"column":16},"end":{"line":154,"column":40}},"79":{"start":{"line":161,"column":8},"end":{"line":161,"column":51}},"80":{"start":{"line":164,"column":6},"end":{"line":164,"column":25}},"81":{"start":{"line":167,"column":31},"end":{"line":187,"column":9}},"82":{"start":{"line":169,"column":8},"end":{"line":186,"column":21}},"83":{"start":{"line":170,"column":10},"end":{"line":185,"column":11}},"84":{"start":{"line":171,"column":12},"end":{"line":184,"column":13}},"85":{"start":{"line":173,"column":16},"end":{"line":173,"column":43}},"86":{"start":{"line":174,"column":16},"end":{"line":174,"column":35}},"87":{"start":{"line":175,"column":16},"end":{"line":175,"column":35}},"88":{"start":{"line":176,"column":16},"end":{"line":176,"column":121}},"89":{"start":{"line":179,"column":16},"end":{"line":179,"column":66}},"90":{"start":{"line":183,"column":16},"end":{"line":183,"column":40}},"91":{"start":{"line":190,"column":8},"end":{"line":190,"column":57}},"92":{"start":{"line":193,"column":6},"end":{"line":193,"column":31}},"93":{"start":{"line":196,"column":26},"end":{"line":219,"column":9}},"94":{"start":{"line":198,"column":8},"end":{"line":218,"column":21}},"95":{"start":{"line":199,"column":10},"end":{"line":217,"column":11}},"96":{"start":{"line":200,"column":12},"end":{"line":216,"column":13}},"97":{"start":{"line":202,"column":16},"end":{"line":202,"column":69}},"98":{"start":{"line":203,"column":16},"end":{"line":203,"column":35}},"99":{"start":{"line":204,"column":16},"end":{"line":204,"column":35}},"100":{"start":{"line":205,"column":16},"end":{"line":208,"column":19}},"101":{"start":{"line":211,"column":16},"end":{"line":211,"column":66}},"102":{"start":{"line":215,"column":16},"end":{"line":215,"column":40}},"103":{"start":{"line":222,"column":8},"end":{"line":222,"column":52}},"104":{"start":{"line":225,"column":6},"end":{"line":225,"column":26}},"105":{"start":{"line":229,"column":0},"end":{"line":229,"column":30}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":27}},"loc":{"start":{"line":14,"column":75},"end":{"line":14,"column":265}},"line":14},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":26}},"loc":{"start":{"line":16,"column":31},"end":{"line":16,"column":389}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":40},"end":{"line":16,"column":41}},"loc":{"start":{"line":16,"column":52},"end":{"line":16,"column":386}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":108},"end":{"line":16,"column":109}},"loc":{"start":{"line":16,"column":135},"end":{"line":16,"column":382}},"line":16},"4":{"name":"_next","decl":{"start":{"line":16,"column":178},"end":{"line":16,"column":183}},"loc":{"start":{"line":16,"column":191},"end":{"line":16,"column":266}},"line":16},"5":{"name":"_throw","decl":{"start":{"line":16,"column":276},"end":{"line":16,"column":282}},"loc":{"start":{"line":16,"column":288},"end":{"line":16,"column":362}},"line":16},"6":{"name":"(anonymous_6)","decl":{"start":{"line":20,"column":14},"end":{"line":20,"column":15}},"loc":{"start":{"line":20,"column":26},"end":{"line":48,"column":5}},"line":20},"7":{"name":"_callee","decl":{"start":{"line":21,"column":87},"end":{"line":21,"column":94}},"loc":{"start":{"line":21,"column":111},"end":{"line":41,"column":7}},"line":21},"8":{"name":"_callee$","decl":{"start":{"line":23,"column":48},"end":{"line":23,"column":56}},"loc":{"start":{"line":23,"column":67},"end":{"line":40,"column":9}},"line":23},"9":{"name":"location","decl":{"start":{"line":43,"column":15},"end":{"line":43,"column":23}},"loc":{"start":{"line":43,"column":38},"end":{"line":45,"column":7}},"line":43},"10":{"name":"(anonymous_10)","decl":{"start":{"line":49,"column":21},"end":{"line":49,"column":22}},"loc":{"start":{"line":49,"column":33},"end":{"line":77,"column":5}},"line":49},"11":{"name":"_callee2","decl":{"start":{"line":50,"column":94},"end":{"line":50,"column":102}},"loc":{"start":{"line":50,"column":120},"end":{"line":70,"column":7}},"line":50},"12":{"name":"_callee2$","decl":{"start":{"line":52,"column":48},"end":{"line":52,"column":57}},"loc":{"start":{"line":52,"column":69},"end":{"line":69,"column":9}},"line":52},"13":{"name":"locationRatings","decl":{"start":{"line":72,"column":15},"end":{"line":72,"column":30}},"loc":{"start":{"line":72,"column":46},"end":{"line":74,"column":7}},"line":72},"14":{"name":"(anonymous_14)","decl":{"start":{"line":80,"column":11},"end":{"line":80,"column":12}},"loc":{"start":{"line":80,"column":23},"end":{"line":108,"column":5}},"line":80},"15":{"name":"_callee3","decl":{"start":{"line":81,"column":84},"end":{"line":81,"column":92}},"loc":{"start":{"line":81,"column":110},"end":{"line":101,"column":7}},"line":81},"16":{"name":"_callee3$","decl":{"start":{"line":83,"column":48},"end":{"line":83,"column":57}},"loc":{"start":{"line":83,"column":69},"end":{"line":100,"column":9}},"line":83},"17":{"name":"login","decl":{"start":{"line":103,"column":15},"end":{"line":103,"column":20}},"loc":{"start":{"line":103,"column":36},"end":{"line":105,"column":7}},"line":103},"18":{"name":"(anonymous_18)","decl":{"start":{"line":109,"column":14},"end":{"line":109,"column":15}},"loc":{"start":{"line":109,"column":26},"end":{"line":136,"column":5}},"line":109},"19":{"name":"_callee4","decl":{"start":{"line":110,"column":87},"end":{"line":110,"column":95}},"loc":{"start":{"line":110,"column":106},"end":{"line":129,"column":7}},"line":110},"20":{"name":"_callee4$","decl":{"start":{"line":112,"column":48},"end":{"line":112,"column":57}},"loc":{"start":{"line":112,"column":69},"end":{"line":128,"column":9}},"line":112},"21":{"name":"register","decl":{"start":{"line":131,"column":15},"end":{"line":131,"column":23}},"loc":{"start":{"line":131,"column":36},"end":{"line":133,"column":7}},"line":131},"22":{"name":"(anonymous_22)","decl":{"start":{"line":137,"column":17},"end":{"line":137,"column":18}},"loc":{"start":{"line":137,"column":29},"end":{"line":165,"column":5}},"line":137},"23":{"name":"_callee5","decl":{"start":{"line":138,"column":90},"end":{"line":138,"column":98}},"loc":{"start":{"line":138,"column":116},"end":{"line":158,"column":7}},"line":138},"24":{"name":"_callee5$","decl":{"start":{"line":140,"column":48},"end":{"line":140,"column":57}},"loc":{"start":{"line":140,"column":69},"end":{"line":157,"column":9}},"line":140},"25":{"name":"addLocation","decl":{"start":{"line":160,"column":15},"end":{"line":160,"column":26}},"loc":{"start":{"line":160,"column":45},"end":{"line":162,"column":7}},"line":160},"26":{"name":"(anonymous_26)","decl":{"start":{"line":166,"column":23},"end":{"line":166,"column":24}},"loc":{"start":{"line":166,"column":35},"end":{"line":194,"column":5}},"line":166},"27":{"name":"_callee6","decl":{"start":{"line":167,"column":96},"end":{"line":167,"column":104}},"loc":{"start":{"line":167,"column":124},"end":{"line":187,"column":7}},"line":167},"28":{"name":"_callee6$","decl":{"start":{"line":169,"column":48},"end":{"line":169,"column":57}},"loc":{"start":{"line":169,"column":69},"end":{"line":186,"column":9}},"line":169},"29":{"name":"noteForAssistance","decl":{"start":{"line":189,"column":15},"end":{"line":189,"column":32}},"loc":{"start":{"line":189,"column":51},"end":{"line":191,"column":7}},"line":189},"30":{"name":"(anonymous_30)","decl":{"start":{"line":195,"column":18},"end":{"line":195,"column":19}},"loc":{"start":{"line":195,"column":30},"end":{"line":226,"column":5}},"line":195},"31":{"name":"_callee7","decl":{"start":{"line":196,"column":91},"end":{"line":196,"column":99}},"loc":{"start":{"line":196,"column":119},"end":{"line":219,"column":7}},"line":196},"32":{"name":"_callee7$","decl":{"start":{"line":198,"column":48},"end":{"line":198,"column":57}},"loc":{"start":{"line":198,"column":69},"end":{"line":218,"column":9}},"line":198},"33":{"name":"rateLocation","decl":{"start":{"line":221,"column":15},"end":{"line":221,"column":27}},"loc":{"start":{"line":221,"column":46},"end":{"line":223,"column":7}},"line":221}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},"type":"if","locations":[{"start":{"line":14,"column":176},"end":{"line":14,"column":263}},{"start":{"line":14,"column":176},"end":{"line":14,"column":263}}],"line":14},"1":{"loc":{"start":{"line":25,"column":12},"end":{"line":38,"column":13}},"type":"switch","locations":[{"start":{"line":26,"column":14},"end":{"line":30,"column":113}},{"start":{"line":32,"column":14},"end":{"line":33,"column":64}},{"start":{"line":35,"column":14},"end":{"line":35,"column":21}},{"start":{"line":36,"column":14},"end":{"line":37,"column":39}}],"line":25},"2":{"loc":{"start":{"line":54,"column":12},"end":{"line":67,"column":13}},"type":"switch","locations":[{"start":{"line":55,"column":14},"end":{"line":59,"column":141}},{"start":{"line":61,"column":14},"end":{"line":62,"column":66}},{"start":{"line":64,"column":14},"end":{"line":64,"column":21}},{"start":{"line":65,"column":14},"end":{"line":66,"column":40}}],"line":54},"3":{"loc":{"start":{"line":85,"column":12},"end":{"line":98,"column":13}},"type":"switch","locations":[{"start":{"line":86,"column":14},"end":{"line":90,"column":73}},{"start":{"line":92,"column":14},"end":{"line":93,"column":66}},{"start":{"line":95,"column":14},"end":{"line":95,"column":21}},{"start":{"line":96,"column":14},"end":{"line":97,"column":40}}],"line":85},"4":{"loc":{"start":{"line":114,"column":12},"end":{"line":126,"column":13}},"type":"switch","locations":[{"start":{"line":115,"column":14},"end":{"line":118,"column":76}},{"start":{"line":120,"column":14},"end":{"line":121,"column":66}},{"start":{"line":123,"column":14},"end":{"line":123,"column":21}},{"start":{"line":124,"column":14},"end":{"line":125,"column":40}}],"line":114},"5":{"loc":{"start":{"line":142,"column":12},"end":{"line":155,"column":13}},"type":"switch","locations":[{"start":{"line":143,"column":14},"end":{"line":147,"column":115}},{"start":{"line":149,"column":14},"end":{"line":150,"column":66}},{"start":{"line":152,"column":14},"end":{"line":152,"column":21}},{"start":{"line":153,"column":14},"end":{"line":154,"column":40}}],"line":142},"6":{"loc":{"start":{"line":171,"column":12},"end":{"line":184,"column":13}},"type":"switch","locations":[{"start":{"line":172,"column":14},"end":{"line":176,"column":121}},{"start":{"line":178,"column":14},"end":{"line":179,"column":66}},{"start":{"line":181,"column":14},"end":{"line":181,"column":21}},{"start":{"line":182,"column":14},"end":{"line":183,"column":40}}],"line":171},"7":{"loc":{"start":{"line":200,"column":12},"end":{"line":216,"column":13}},"type":"switch","locations":[{"start":{"line":201,"column":14},"end":{"line":208,"column":19}},{"start":{"line":210,"column":14},"end":{"line":211,"column":66}},{"start":{"line":213,"column":14},"end":{"line":213,"column":21}},{"start":{"line":214,"column":14},"end":{"line":215,"column":40}}],"line":200}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":42,"6":42,"7":33,"8":9,"9":9,"10":33,"11":12,"12":21,"13":7,"14":21,"15":21,"16":21,"17":21,"18":33,"19":9,"20":21,"21":1,"22":1,"23":6,"24":13,"25":13,"26":6,"27":6,"28":6,"29":6,"30":1,"31":6,"32":6,"33":1,"34":1,"35":2,"36":6,"37":6,"38":2,"39":2,"40":2,"41":2,"42":2,"43":2,"44":2,"45":1,"46":1,"47":5,"48":14,"49":14,"50":5,"51":5,"52":5,"53":5,"54":4,"55":5,"56":5,"57":1,"58":1,"59":2,"60":5,"61":5,"62":2,"63":2,"64":2,"65":1,"66":2,"67":2,"68":1,"69":1,"70":2,"71":5,"72":5,"73":2,"74":2,"75":2,"76":2,"77":1,"78":2,"79":2,"80":1,"81":1,"82":2,"83":5,"84":5,"85":2,"86":2,"87":2,"88":2,"89":1,"90":2,"91":2,"92":1,"93":1,"94":2,"95":6,"96":6,"97":2,"98":2,"99":2,"100":2,"101":2,"102":2,"103":2,"104":1,"105":1},"f":{"0":42,"1":7,"2":21,"3":21,"4":33,"5":9,"6":1,"7":6,"8":13,"9":6,"10":1,"11":2,"12":6,"13":2,"14":1,"15":5,"16":14,"17":5,"18":1,"19":2,"20":5,"21":2,"22":1,"23":2,"24":5,"25":2,"26":1,"27":2,"28":5,"29":2,"30":1,"31":2,"32":6,"33":2},"b":{"0":[12,21],"1":[6,1,0,6],"2":[2,2,0,2],"3":[5,4,0,5],"4":[2,1,0,2],"5":[2,1,0,2],"6":[2,1,0,2],"7":[2,2,0,2]},"inputSourceMap":{"version":3,"sources":["resolvers.js"],"names":["resolvers","Query","location","_","latlng","auth","authController","requireAuth","locationController","getLocation","locationRatings","protocolRatingController","getLocationRatingsAverages","Mutation","login","email","password","register","name","addLocation","noteForAssistance","rateLocation","ratings"],"mappings":"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","sourceRoot":"E:\\GitHub\\where-to-go-app\\backend\\src\\","sourcesContent":["import { authController } from './controllers/auth.controller';\nimport { locationController } from './controllers/location.controller';\nimport { protocolRatingController } from './controllers/protocolRating.controller';\n\nexport const resolvers = {\n  Query: {\n    location: async (_, { latlng }, { auth }) => {\n      return await authController.requireAuth(\n        auth,\n        locationController.getLocation,\n        latlng\n      );\n    },\n    locationRatings: async (_, { location }, { auth }) => {\n      return await authController.requireAuth(\n        auth,\n        protocolRatingController.getLocationRatingsAverages,\n        location\n      );\n    },\n  },\n  Mutation: {\n    login: async (_, { email, password }, { auth }) => {\n      return await authController.login(email, password, auth);\n    },\n    register: async (_, { email, password, name }) => {\n      return await authController.register(email, password, name);\n    },\n    addLocation: async (_, { location }, { auth }) => {\n      return await authController.requireAuth(\n        auth,\n        locationController.addLocation,\n        location\n      );\n    },\n    noteForAssistance: async (_, { location }, { auth }) => {\n      return await authController.requireAuth(\n        auth,\n        locationController.noteForAssistance,\n        location\n      );\n    },\n    rateLocation: async (_, { location, ratings }, { auth }) => {\n      return await authController.requireAuth(\n        auth,\n        protocolRatingController.rateLocation,\n        { location: location, ratings: ratings }\n      );\n    },\n  },\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d346ea814a3de277679076cde96508a7f3c09113","contentHash":"bc967806029bab4fa872efe78aca7c17b9b44c95629127de6014e706786f8a21"},"E:\\GitHub\\where-to-go-app\\backend\\src\\controllers\\auth.controller.js":{"path":"E:\\GitHub\\where-to-go-app\\backend\\src\\controllers\\auth.controller.js","statementMap":{"0":{"start":{"line":3,"column":51},"end":{"line":3,"column":355}},"1":{"start":{"line":3,"column":126},"end":{"line":3,"column":181}},"2":{"start":{"line":3,"column":160},"end":{"line":3,"column":178}},"3":{"start":{"line":3,"column":191},"end":{"line":3,"column":353}},"4":{"start":{"line":3,"column":225},"end":{"line":3,"column":350}},"5":{"start":{"line":3,"column":356},"end":{"line":3,"column":376}},"6":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":32}},"8":{"start":{"line":10,"column":12},"end":{"line":10,"column":37}},"9":{"start":{"line":12,"column":14},"end":{"line":12,"column":55}},"10":{"start":{"line":14,"column":13},"end":{"line":14,"column":64}},"11":{"start":{"line":16,"column":20},"end":{"line":16,"column":43}},"12":{"start":{"line":18,"column":26},"end":{"line":18,"column":57}},"13":{"start":{"line":20,"column":38},"end":{"line":20,"column":85}},"14":{"start":{"line":20,"column":73},"end":{"line":20,"column":85}},"15":{"start":{"line":20,"column":98},"end":{"line":20,"column":111}},"16":{"start":{"line":20,"column":113},"end":{"line":20,"column":194}},"17":{"start":{"line":20,"column":178},"end":{"line":20,"column":191}},"18":{"start":{"line":20,"column":195},"end":{"line":20,"column":208}},"19":{"start":{"line":22,"column":40},"end":{"line":22,"column":82}},"20":{"start":{"line":22,"column":69},"end":{"line":22,"column":80}},"21":{"start":{"line":22,"column":83},"end":{"line":22,"column":189}},"22":{"start":{"line":22,"column":161},"end":{"line":22,"column":187}},"23":{"start":{"line":22,"column":202},"end":{"line":22,"column":228}},"24":{"start":{"line":22,"column":230},"end":{"line":22,"column":285}},"25":{"start":{"line":22,"column":261},"end":{"line":22,"column":283}},"26":{"start":{"line":22,"column":299},"end":{"line":22,"column":301}},"27":{"start":{"line":22,"column":331},"end":{"line":22,"column":387}},"28":{"start":{"line":22,"column":389},"end":{"line":22,"column":669}},"29":{"start":{"line":22,"column":412},"end":{"line":22,"column":667}},"30":{"start":{"line":22,"column":477},"end":{"line":22,"column":549}},"31":{"start":{"line":22,"column":551},"end":{"line":22,"column":665}},"32":{"start":{"line":22,"column":589},"end":{"line":22,"column":630}},"33":{"start":{"line":22,"column":640},"end":{"line":22,"column":663}},"34":{"start":{"line":22,"column":670},"end":{"line":22,"column":694}},"35":{"start":{"line":22,"column":695},"end":{"line":22,"column":733}},"36":{"start":{"line":22,"column":708},"end":{"line":22,"column":731}},"37":{"start":{"line":22,"column":734},"end":{"line":22,"column":748}},"38":{"start":{"line":24,"column":39},"end":{"line":24,"column":95}},"39":{"start":{"line":26,"column":77},"end":{"line":26,"column":175}},"40":{"start":{"line":26,"column":94},"end":{"line":26,"column":107}},"41":{"start":{"line":26,"column":121},"end":{"line":26,"column":131}},"42":{"start":{"line":26,"column":151},"end":{"line":26,"column":165}},"43":{"start":{"line":26,"column":166},"end":{"line":26,"column":173}},"44":{"start":{"line":26,"column":176},"end":{"line":26,"column":263}},"45":{"start":{"line":26,"column":193},"end":{"line":26,"column":208}},"46":{"start":{"line":26,"column":218},"end":{"line":26,"column":261}},"47":{"start":{"line":28,"column":33},"end":{"line":28,"column":387}},"48":{"start":{"line":28,"column":65},"end":{"line":28,"column":69}},"49":{"start":{"line":28,"column":78},"end":{"line":28,"column":87}},"50":{"start":{"line":28,"column":89},"end":{"line":28,"column":384}},"51":{"start":{"line":28,"column":147},"end":{"line":28,"column":167}},"52":{"start":{"line":28,"column":193},"end":{"line":28,"column":264}},"53":{"start":{"line":28,"column":290},"end":{"line":28,"column":360}},"54":{"start":{"line":28,"column":363},"end":{"line":28,"column":380}},"55":{"start":{"line":30,"column":31},"end":{"line":80,"column":3}},"56":{"start":{"line":31,"column":13},"end":{"line":75,"column":5}},"57":{"start":{"line":33,"column":4},"end":{"line":74,"column":16}},"58":{"start":{"line":34,"column":6},"end":{"line":73,"column":7}},"59":{"start":{"line":35,"column":8},"end":{"line":72,"column":9}},"60":{"start":{"line":37,"column":12},"end":{"line":40,"column":13}},"61":{"start":{"line":38,"column":14},"end":{"line":38,"column":32}},"62":{"start":{"line":39,"column":14},"end":{"line":39,"column":20}},"63":{"start":{"line":42,"column":12},"end":{"line":42,"column":88}},"64":{"start":{"line":45,"column":12},"end":{"line":45,"column":45}},"65":{"start":{"line":47,"column":12},"end":{"line":50,"column":13}},"66":{"start":{"line":48,"column":14},"end":{"line":48,"column":32}},"67":{"start":{"line":49,"column":14},"end":{"line":49,"column":20}},"68":{"start":{"line":52,"column":12},"end":{"line":52,"column":93}},"69":{"start":{"line":55,"column":12},"end":{"line":55,"column":30}},"70":{"start":{"line":56,"column":12},"end":{"line":59,"column":15}},"71":{"start":{"line":57,"column":14},"end":{"line":57,"column":91}},"72":{"start":{"line":57,"column":23},"end":{"line":57,"column":91}},"73":{"start":{"line":58,"column":14},"end":{"line":58,"column":29}},"74":{"start":{"line":62,"column":12},"end":{"line":62,"column":33}},"75":{"start":{"line":63,"column":12},"end":{"line":63,"column":31}},"76":{"start":{"line":64,"column":12},"end":{"line":64,"column":35}},"77":{"start":{"line":67,"column":12},"end":{"line":67,"column":60}},"78":{"start":{"line":71,"column":12},"end":{"line":71,"column":35}},"79":{"start":{"line":77,"column":2},"end":{"line":79,"column":4}},"80":{"start":{"line":78,"column":4},"end":{"line":78,"column":39}},"81":{"start":{"line":82,"column":28},"end":{"line":132,"column":3}},"82":{"start":{"line":83,"column":14},"end":{"line":127,"column":5}},"83":{"start":{"line":85,"column":4},"end":{"line":126,"column":17}},"84":{"start":{"line":86,"column":6},"end":{"line":125,"column":7}},"85":{"start":{"line":87,"column":8},"end":{"line":124,"column":9}},"86":{"start":{"line":89,"column":12},"end":{"line":89,"column":31}},"87":{"start":{"line":90,"column":12},"end":{"line":92,"column":15}},"88":{"start":{"line":95,"column":12},"end":{"line":95,"column":34}},"89":{"start":{"line":97,"column":12},"end":{"line":100,"column":13}},"90":{"start":{"line":98,"column":14},"end":{"line":98,"column":33}},"91":{"start":{"line":99,"column":14},"end":{"line":99,"column":20}},"92":{"start":{"line":102,"column":12},"end":{"line":102,"column":52}},"93":{"start":{"line":105,"column":12},"end":{"line":105,"column":31}},"94":{"start":{"line":106,"column":12},"end":{"line":106,"column":57}},"95":{"start":{"line":109,"column":12},"end":{"line":109,"column":44}},"96":{"start":{"line":110,"column":12},"end":{"line":114,"column":15}},"97":{"start":{"line":115,"column":12},"end":{"line":115,"column":32}},"98":{"start":{"line":116,"column":12},"end":{"line":116,"column":34}},"99":{"start":{"line":119,"column":12},"end":{"line":119,"column":52}},"100":{"start":{"line":123,"column":12},"end":{"line":123,"column":36}},"101":{"start":{"line":129,"column":2},"end":{"line":131,"column":4}},"102":{"start":{"line":130,"column":4},"end":{"line":130,"column":40}},"103":{"start":{"line":134,"column":25},"end":{"line":192,"column":3}},"104":{"start":{"line":135,"column":14},"end":{"line":187,"column":5}},"105":{"start":{"line":137,"column":4},"end":{"line":186,"column":17}},"106":{"start":{"line":138,"column":6},"end":{"line":185,"column":7}},"107":{"start":{"line":139,"column":8},"end":{"line":184,"column":9}},"108":{"start":{"line":141,"column":12},"end":{"line":141,"column":31}},"109":{"start":{"line":142,"column":12},"end":{"line":144,"column":15}},"110":{"start":{"line":147,"column":12},"end":{"line":147,"column":34}},"111":{"start":{"line":149,"column":12},"end":{"line":152,"column":13}},"112":{"start":{"line":150,"column":14},"end":{"line":150,"column":33}},"113":{"start":{"line":151,"column":14},"end":{"line":151,"column":20}},"114":{"start":{"line":154,"column":12},"end":{"line":154,"column":87}},"115":{"start":{"line":157,"column":12},"end":{"line":157,"column":31}},"116":{"start":{"line":158,"column":12},"end":{"line":158,"column":71}},"117":{"start":{"line":161,"column":12},"end":{"line":161,"column":35}},"118":{"start":{"line":163,"column":12},"end":{"line":166,"column":13}},"119":{"start":{"line":164,"column":14},"end":{"line":164,"column":34}},"120":{"start":{"line":165,"column":14},"end":{"line":165,"column":20}},"121":{"start":{"line":168,"column":12},"end":{"line":168,"column":80}},"122":{"start":{"line":171,"column":12},"end":{"line":175,"column":15}},"123":{"start":{"line":176,"column":12},"end":{"line":179,"column":15}},"124":{"start":{"line":183,"column":12},"end":{"line":183,"column":36}},"125":{"start":{"line":189,"column":2},"end":{"line":191,"column":4}},"126":{"start":{"line":190,"column":4},"end":{"line":190,"column":40}},"127":{"start":{"line":194,"column":21},"end":{"line":198,"column":1}},"128":{"start":{"line":199,"column":0},"end":{"line":199,"column":40}}},"fnMap":{"0":{"name":"_typeof","decl":{"start":{"line":3,"column":9},"end":{"line":3,"column":16}},"loc":{"start":{"line":3,"column":22},"end":{"line":3,"column":378}},"line":3},"1":{"name":"_typeof","decl":{"start":{"line":3,"column":145},"end":{"line":3,"column":152}},"loc":{"start":{"line":3,"column":158},"end":{"line":3,"column":180}},"line":3},"2":{"name":"_typeof","decl":{"start":{"line":3,"column":210},"end":{"line":3,"column":217}},"loc":{"start":{"line":3,"column":223},"end":{"line":3,"column":352}},"line":3},"3":{"name":"_getRequireWildcardCache","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":33}},"loc":{"start":{"line":20,"column":36},"end":{"line":20,"column":210}},"line":20},"4":{"name":"_getRequireWildcardCache","decl":{"start":{"line":20,"column":149},"end":{"line":20,"column":173}},"loc":{"start":{"line":20,"column":176},"end":{"line":20,"column":193}},"line":20},"5":{"name":"_interopRequireWildcard","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":32}},"loc":{"start":{"line":22,"column":38},"end":{"line":22,"column":750}},"line":22},"6":{"name":"_interopRequireDefault","decl":{"start":{"line":24,"column":9},"end":{"line":24,"column":31}},"loc":{"start":{"line":24,"column":37},"end":{"line":24,"column":97}},"line":24},"7":{"name":"asyncGeneratorStep","decl":{"start":{"line":26,"column":9},"end":{"line":26,"column":27}},"loc":{"start":{"line":26,"column":75},"end":{"line":26,"column":265}},"line":26},"8":{"name":"_asyncToGenerator","decl":{"start":{"line":28,"column":9},"end":{"line":28,"column":26}},"loc":{"start":{"line":28,"column":31},"end":{"line":28,"column":389}},"line":28},"9":{"name":"(anonymous_9)","decl":{"start":{"line":28,"column":40},"end":{"line":28,"column":41}},"loc":{"start":{"line":28,"column":52},"end":{"line":28,"column":386}},"line":28},"10":{"name":"(anonymous_10)","decl":{"start":{"line":28,"column":108},"end":{"line":28,"column":109}},"loc":{"start":{"line":28,"column":135},"end":{"line":28,"column":382}},"line":28},"11":{"name":"_next","decl":{"start":{"line":28,"column":178},"end":{"line":28,"column":183}},"loc":{"start":{"line":28,"column":191},"end":{"line":28,"column":266}},"line":28},"12":{"name":"_throw","decl":{"start":{"line":28,"column":276},"end":{"line":28,"column":282}},"loc":{"start":{"line":28,"column":288},"end":{"line":28,"column":362}},"line":28},"13":{"name":"(anonymous_13)","decl":{"start":{"line":30,"column":31},"end":{"line":30,"column":32}},"loc":{"start":{"line":30,"column":43},"end":{"line":80,"column":1}},"line":30},"14":{"name":"_callee","decl":{"start":{"line":31,"column":78},"end":{"line":31,"column":85}},"loc":{"start":{"line":31,"column":103},"end":{"line":75,"column":3}},"line":31},"15":{"name":"_callee$","decl":{"start":{"line":33,"column":44},"end":{"line":33,"column":52}},"loc":{"start":{"line":33,"column":63},"end":{"line":74,"column":5}},"line":33},"16":{"name":"(anonymous_16)","decl":{"start":{"line":56,"column":67},"end":{"line":56,"column":68}},"loc":{"start":{"line":56,"column":91},"end":{"line":59,"column":13}},"line":56},"17":{"name":"requireAuth","decl":{"start":{"line":77,"column":18},"end":{"line":77,"column":29}},"loc":{"start":{"line":77,"column":44},"end":{"line":79,"column":3}},"line":77},"18":{"name":"(anonymous_18)","decl":{"start":{"line":82,"column":28},"end":{"line":82,"column":29}},"loc":{"start":{"line":82,"column":40},"end":{"line":132,"column":1}},"line":82},"19":{"name":"_callee2","decl":{"start":{"line":83,"column":79},"end":{"line":83,"column":87}},"loc":{"start":{"line":83,"column":111},"end":{"line":127,"column":3}},"line":83},"20":{"name":"_callee2$","decl":{"start":{"line":85,"column":44},"end":{"line":85,"column":53}},"loc":{"start":{"line":85,"column":65},"end":{"line":126,"column":5}},"line":85},"21":{"name":"register","decl":{"start":{"line":129,"column":18},"end":{"line":129,"column":26}},"loc":{"start":{"line":129,"column":42},"end":{"line":131,"column":3}},"line":129},"22":{"name":"(anonymous_22)","decl":{"start":{"line":134,"column":25},"end":{"line":134,"column":26}},"loc":{"start":{"line":134,"column":37},"end":{"line":192,"column":1}},"line":134},"23":{"name":"_callee3","decl":{"start":{"line":135,"column":79},"end":{"line":135,"column":87}},"loc":{"start":{"line":135,"column":110},"end":{"line":187,"column":3}},"line":135},"24":{"name":"_callee3$","decl":{"start":{"line":137,"column":44},"end":{"line":137,"column":53}},"loc":{"start":{"line":137,"column":65},"end":{"line":186,"column":5}},"line":137},"25":{"name":"login","decl":{"start":{"line":189,"column":18},"end":{"line":189,"column":23}},"loc":{"start":{"line":189,"column":39},"end":{"line":191,"column":3}},"line":189}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":355}},"type":"if","locations":[{"start":{"line":3,"column":51},"end":{"line":3,"column":355}},{"start":{"line":3,"column":51},"end":{"line":3,"column":355}}],"line":3},"1":{"loc":{"start":{"line":3,"column":55},"end":{"line":3,"column":122}},"type":"binary-expr","locations":[{"start":{"line":3,"column":55},"end":{"line":3,"column":83}},{"start":{"line":3,"column":87},"end":{"line":3,"column":122}}],"line":3},"2":{"loc":{"start":{"line":3,"column":232},"end":{"line":3,"column":349}},"type":"cond-expr","locations":[{"start":{"line":3,"column":328},"end":{"line":3,"column":336}},{"start":{"line":3,"column":339},"end":{"line":3,"column":349}}],"line":3},"3":{"loc":{"start":{"line":3,"column":232},"end":{"line":3,"column":325}},"type":"binary-expr","locations":[{"start":{"line":3,"column":232},"end":{"line":3,"column":235}},{"start":{"line":3,"column":239},"end":{"line":3,"column":267}},{"start":{"line":3,"column":271},"end":{"line":3,"column":297}},{"start":{"line":3,"column":301},"end":{"line":3,"column":325}}],"line":3},"4":{"loc":{"start":{"line":20,"column":38},"end":{"line":20,"column":85}},"type":"if","locations":[{"start":{"line":20,"column":38},"end":{"line":20,"column":85}},{"start":{"line":20,"column":38},"end":{"line":20,"column":85}}],"line":20},"5":{"loc":{"start":{"line":22,"column":40},"end":{"line":22,"column":82}},"type":"if","locations":[{"start":{"line":22,"column":40},"end":{"line":22,"column":82}},{"start":{"line":22,"column":40},"end":{"line":22,"column":82}}],"line":22},"6":{"loc":{"start":{"line":22,"column":44},"end":{"line":22,"column":65}},"type":"binary-expr","locations":[{"start":{"line":22,"column":44},"end":{"line":22,"column":47}},{"start":{"line":22,"column":51},"end":{"line":22,"column":65}}],"line":22},"7":{"loc":{"start":{"line":22,"column":83},"end":{"line":22,"column":189}},"type":"if","locations":[{"start":{"line":22,"column":83},"end":{"line":22,"column":189}},{"start":{"line":22,"column":83},"end":{"line":22,"column":189}}],"line":22},"8":{"loc":{"start":{"line":22,"column":87},"end":{"line":22,"column":157}},"type":"binary-expr","locations":[{"start":{"line":22,"column":87},"end":{"line":22,"column":99}},{"start":{"line":22,"column":103},"end":{"line":22,"column":128}},{"start":{"line":22,"column":132},"end":{"line":22,"column":157}}],"line":22},"9":{"loc":{"start":{"line":22,"column":230},"end":{"line":22,"column":285}},"type":"if","locations":[{"start":{"line":22,"column":230},"end":{"line":22,"column":285}},{"start":{"line":22,"column":230},"end":{"line":22,"column":285}}],"line":22},"10":{"loc":{"start":{"line":22,"column":234},"end":{"line":22,"column":257}},"type":"binary-expr","locations":[{"start":{"line":22,"column":234},"end":{"line":22,"column":239}},{"start":{"line":22,"column":243},"end":{"line":22,"column":257}}],"line":22},"11":{"loc":{"start":{"line":22,"column":331},"end":{"line":22,"column":387}},"type":"binary-expr","locations":[{"start":{"line":22,"column":331},"end":{"line":22,"column":352}},{"start":{"line":22,"column":356},"end":{"line":22,"column":387}}],"line":22},"12":{"loc":{"start":{"line":22,"column":412},"end":{"line":22,"column":667}},"type":"if","locations":[{"start":{"line":22,"column":412},"end":{"line":22,"column":667}},{"start":{"line":22,"column":412},"end":{"line":22,"column":667}}],"line":22},"13":{"loc":{"start":{"line":22,"column":477},"end":{"line":22,"column":549}},"type":"cond-expr","locations":[{"start":{"line":22,"column":501},"end":{"line":22,"column":542}},{"start":{"line":22,"column":545},"end":{"line":22,"column":549}}],"line":22},"14":{"loc":{"start":{"line":22,"column":551},"end":{"line":22,"column":665}},"type":"if","locations":[{"start":{"line":22,"column":551},"end":{"line":22,"column":665}},{"start":{"line":22,"column":551},"end":{"line":22,"column":665}}],"line":22},"15":{"loc":{"start":{"line":22,"column":555},"end":{"line":22,"column":585}},"type":"binary-expr","locations":[{"start":{"line":22,"column":555},"end":{"line":22,"column":559}},{"start":{"line":22,"column":564},"end":{"line":22,"column":572}},{"start":{"line":22,"column":576},"end":{"line":22,"column":584}}],"line":22},"16":{"loc":{"start":{"line":22,"column":695},"end":{"line":22,"column":733}},"type":"if","locations":[{"start":{"line":22,"column":695},"end":{"line":22,"column":733}},{"start":{"line":22,"column":695},"end":{"line":22,"column":733}}],"line":22},"17":{"loc":{"start":{"line":24,"column":46},"end":{"line":24,"column":94}},"type":"cond-expr","locations":[{"start":{"line":24,"column":70},"end":{"line":24,"column":73}},{"start":{"line":24,"column":76},"end":{"line":24,"column":94}}],"line":24},"18":{"loc":{"start":{"line":24,"column":46},"end":{"line":24,"column":67}},"type":"binary-expr","locations":[{"start":{"line":24,"column":46},"end":{"line":24,"column":49}},{"start":{"line":24,"column":53},"end":{"line":24,"column":67}}],"line":24},"19":{"loc":{"start":{"line":26,"column":176},"end":{"line":26,"column":263}},"type":"if","locations":[{"start":{"line":26,"column":176},"end":{"line":26,"column":263}},{"start":{"line":26,"column":176},"end":{"line":26,"column":263}}],"line":26},"20":{"loc":{"start":{"line":35,"column":8},"end":{"line":72,"column":9}},"type":"switch","locations":[{"start":{"line":36,"column":10},"end":{"line":42,"column":88}},{"start":{"line":44,"column":10},"end":{"line":52,"column":93}},{"start":{"line":54,"column":10},"end":{"line":59,"column":15}},{"start":{"line":61,"column":10},"end":{"line":64,"column":35}},{"start":{"line":66,"column":10},"end":{"line":67,"column":60}},{"start":{"line":69,"column":10},"end":{"line":69,"column":18}},{"start":{"line":70,"column":10},"end":{"line":71,"column":35}}],"line":35},"21":{"loc":{"start":{"line":37,"column":12},"end":{"line":40,"column":13}},"type":"if","locations":[{"start":{"line":37,"column":12},"end":{"line":40,"column":13}},{"start":{"line":37,"column":12},"end":{"line":40,"column":13}}],"line":37},"22":{"loc":{"start":{"line":47,"column":12},"end":{"line":50,"column":13}},"type":"if","locations":[{"start":{"line":47,"column":12},"end":{"line":50,"column":13}},{"start":{"line":47,"column":12},"end":{"line":50,"column":13}}],"line":47},"23":{"loc":{"start":{"line":57,"column":14},"end":{"line":57,"column":91}},"type":"if","locations":[{"start":{"line":57,"column":14},"end":{"line":57,"column":91}},{"start":{"line":57,"column":14},"end":{"line":57,"column":91}}],"line":57},"24":{"loc":{"start":{"line":87,"column":8},"end":{"line":124,"column":9}},"type":"switch","locations":[{"start":{"line":88,"column":10},"end":{"line":92,"column":15}},{"start":{"line":94,"column":10},"end":{"line":102,"column":52}},{"start":{"line":104,"column":10},"end":{"line":106,"column":57}},{"start":{"line":108,"column":10},"end":{"line":116,"column":34}},{"start":{"line":118,"column":10},"end":{"line":119,"column":52}},{"start":{"line":121,"column":10},"end":{"line":121,"column":18}},{"start":{"line":122,"column":10},"end":{"line":123,"column":36}}],"line":87},"25":{"loc":{"start":{"line":97,"column":12},"end":{"line":100,"column":13}},"type":"if","locations":[{"start":{"line":97,"column":12},"end":{"line":100,"column":13}},{"start":{"line":97,"column":12},"end":{"line":100,"column":13}}],"line":97},"26":{"loc":{"start":{"line":139,"column":8},"end":{"line":184,"column":9}},"type":"switch","locations":[{"start":{"line":140,"column":10},"end":{"line":144,"column":15}},{"start":{"line":146,"column":10},"end":{"line":154,"column":87}},{"start":{"line":156,"column":10},"end":{"line":158,"column":71}},{"start":{"line":160,"column":10},"end":{"line":168,"column":80}},{"start":{"line":170,"column":10},"end":{"line":179,"column":15}},{"start":{"line":181,"column":10},"end":{"line":181,"column":18}},{"start":{"line":182,"column":10},"end":{"line":183,"column":36}}],"line":139},"27":{"loc":{"start":{"line":149,"column":12},"end":{"line":152,"column":13}},"type":"if","locations":[{"start":{"line":149,"column":12},"end":{"line":152,"column":13}},{"start":{"line":149,"column":12},"end":{"line":152,"column":13}}],"line":149},"28":{"loc":{"start":{"line":163,"column":12},"end":{"line":166,"column":13}},"type":"if","locations":[{"start":{"line":163,"column":12},"end":{"line":166,"column":13}},{"start":{"line":163,"column":12},"end":{"line":166,"column":13}}],"line":163}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":1,"16":1,"17":0,"18":1,"19":1,"20":0,"21":1,"22":0,"23":1,"24":1,"25":0,"26":1,"27":1,"28":1,"29":4,"30":4,"31":4,"32":0,"33":4,"34":1,"35":1,"36":1,"37":1,"38":1,"39":57,"40":57,"41":48,"42":9,"43":9,"44":48,"45":12,"46":36,"47":3,"48":21,"49":21,"50":21,"51":21,"52":53,"53":4,"54":21,"55":1,"56":1,"57":14,"58":46,"59":71,"60":14,"61":13,"62":13,"63":1,"64":13,"65":13,"66":12,"67":12,"68":1,"69":12,"70":12,"71":12,"72":1,"73":11,"74":11,"75":11,"76":11,"77":7,"78":14,"79":1,"80":14,"81":1,"82":1,"83":2,"84":8,"85":9,"86":2,"87":2,"88":2,"89":2,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":2,"101":1,"102":2,"103":1,"104":1,"105":5,"106":20,"107":29,"108":5,"109":5,"110":5,"111":5,"112":5,"113":5,"114":0,"115":5,"116":5,"117":5,"118":5,"119":4,"120":4,"121":1,"122":4,"123":4,"124":5,"125":1,"126":5,"127":1,"128":1},"f":{"0":1,"1":1,"2":0,"3":1,"4":0,"5":1,"6":1,"7":57,"8":3,"9":21,"10":21,"11":53,"12":4,"13":1,"14":14,"15":46,"16":12,"17":14,"18":1,"19":2,"20":8,"21":2,"22":1,"23":5,"24":20,"25":5},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0],"4":[0,1],"5":[0,1],"6":[1,1],"7":[0,1],"8":[1,1,0],"9":[0,1],"10":[1,1],"11":[1,1],"12":[4,0],"13":[4,0],"14":[0,4],"15":[4,4,4],"16":[1,0],"17":[0,1],"18":[1,1],"19":[12,36],"20":[14,13,12,11,7,0,14],"21":[13,1],"22":[12,1],"23":[1,11],"24":[2,2,1,1,1,0,2],"25":[1,1],"26":[5,5,5,5,4,0,5],"27":[5,0],"28":[4,1]},"inputSourceMap":{"version":3,"sources":["auth.controller.js"],"names":["requireAuth","auth","f","params","AuthenticationError","token","split","config","SECRET","err","decoded","user","register","email","password","name","User","findOne","Error","bcrypt","hash","hashedPassword","newUser","save","login","res","compare","valid","expiresIn","authController"],"mappings":"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","sourceRoot":"E:\\GitHub\\where-to-go-app\\backend\\src\\controllers\\","sourcesContent":["import { User } from '../models/User';\nimport bcrypt from 'bcrypt';\nimport * as config from '../.config.json';\nimport { JsonWebTokenError, sign, verify } from 'jsonwebtoken';\nimport { AuthenticationError } from 'apollo-server-errors';\n\nconst requireAuth = async (auth, f, params) => {\n  if (!auth) throw new AuthenticationError('You must be logged in!');\n  const token = auth.split('Bearer ')[1];\n  if (!token) throw new AuthenticationError('You should provide a token!');\n  const user = await verify(token, config.SECRET, (err, decoded) => {\n    if (err) throw new AuthenticationError('Invalid token!');\n    return decoded;\n  });\n  return await f(params, user);\n};\n\nconst register = async (email, password, name) => {\n  const user = await User.findOne({ email: email });\n  if (user) {\n    throw new Error('User already exists!');\n  }\n  const hashedPassword = await bcrypt.hash(password, 10);\n  const newUser = new User({\n    email,\n    password: hashedPassword,\n    name: name,\n  });\n  await newUser.save();\n  return true;\n};\n\nconst login = async (email, password, res) => {\n  const user = await User.findOne({ email: email });\n  if (!user) {\n    throw new AuthenticationError('Username doesnt exist');\n  }\n\n  const valid = await bcrypt.compare(password, user.password);\n  if (!valid) {\n    throw new AuthenticationError('Wrong password');\n  }\n  const token = sign(\n    {\n      user,\n    },\n    config.SECRET,\n    { expiresIn: '1d' }\n  );\n\n  return { user, token };\n};\n\nexport const authController = {\n  register,\n  login,\n  requireAuth,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"49f8c061d9dc23455d026e2b5b5a8ffe52bad6fe","contentHash":"496f8107aad3227a0d7d5d83b1713ac1291e08def25727fdd9ff5a8ba7cc95cb"},"E:\\GitHub\\where-to-go-app\\backend\\src\\models\\User.js":{"path":"E:\\GitHub\\where-to-go-app\\backend\\src\\models\\User.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":22}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":16},"end":{"line":10,"column":37}},"4":{"start":{"line":12,"column":22},"end":{"line":12,"column":49}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":95}},"6":{"start":{"line":16,"column":11},"end":{"line":25,"column":10}},"7":{"start":{"line":27,"column":0},"end":{"line":27,"column":20}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":97}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":94}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":94}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["User.js"],"names":["User","mongoose","model","name","String","email","password","locationHistory","location","LocationModel","LocationSchema","date","Number","ratingHistory","ProtocolRatingModel","ProtocolRatingSchema"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEO,IAAMA,IAAI,GAAGC,qBAASC,KAAT,CAClB,MADkB,EAElB;AACEC,EAAAA,IAAI,EAAEC,MADR;AAEEC,EAAAA,KAAK,EAAED,MAFT;AAGEE,EAAAA,QAAQ,EAAEF,MAHZ;AAIEG,EAAAA,eAAe,EAAE,CACf;AACEC,IAAAA,QAAQ,EAAEC,wBAAcC,cAD1B;AAEEC,IAAAA,IAAI,EAAEC;AAFR,GADe,CAJnB;AAUEC,EAAAA,aAAa,EAAE,CAACC,oCAAoBC,oBAArB;AAVjB,CAFkB,EAclB,MAdkB,CAAb","sourceRoot":"E:\\GitHub\\where-to-go-app\\backend\\src\\models\\","sourcesContent":["import mongoose from \"mongoose\";\r\nimport { LocationModel } from \"./Location\";\r\nimport { ProtocolRatingModel } from \"./ProtocolRating\";\r\n\r\nexport const User = mongoose.model(\r\n  \"User\",\r\n  {\r\n    name: String,\r\n    email: String,\r\n    password: String,\r\n    locationHistory: [\r\n      {\r\n        location: LocationModel.LocationSchema,\r\n        date: Number,\r\n      },\r\n    ],\r\n    ratingHistory: [ProtocolRatingModel.ProtocolRatingSchema],\r\n  },\r\n  \"User\"\r\n);\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"27f9cb6e80d0ceec338b969d450ed59399032928","contentHash":"4f99057e631e049e91b109071233fbea85c55d4097a763371929f361a865342c"},"E:\\GitHub\\where-to-go-app\\backend\\src\\models\\Location.js":{"path":"E:\\GitHub\\where-to-go-app\\backend\\src\\models\\Location.js","statementMap":{"0":{"start":{"line":3,"column":51},"end":{"line":3,"column":355}},"1":{"start":{"line":3,"column":126},"end":{"line":3,"column":181}},"2":{"start":{"line":3,"column":160},"end":{"line":3,"column":178}},"3":{"start":{"line":3,"column":191},"end":{"line":3,"column":353}},"4":{"start":{"line":3,"column":225},"end":{"line":3,"column":350}},"5":{"start":{"line":3,"column":356},"end":{"line":3,"column":376}},"6":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}},"8":{"start":{"line":10,"column":16},"end":{"line":10,"column":60}},"9":{"start":{"line":12,"column":38},"end":{"line":12,"column":85}},"10":{"start":{"line":12,"column":73},"end":{"line":12,"column":85}},"11":{"start":{"line":12,"column":98},"end":{"line":12,"column":111}},"12":{"start":{"line":12,"column":113},"end":{"line":12,"column":194}},"13":{"start":{"line":12,"column":178},"end":{"line":12,"column":191}},"14":{"start":{"line":12,"column":195},"end":{"line":12,"column":208}},"15":{"start":{"line":14,"column":40},"end":{"line":14,"column":82}},"16":{"start":{"line":14,"column":69},"end":{"line":14,"column":80}},"17":{"start":{"line":14,"column":83},"end":{"line":14,"column":189}},"18":{"start":{"line":14,"column":161},"end":{"line":14,"column":187}},"19":{"start":{"line":14,"column":202},"end":{"line":14,"column":228}},"20":{"start":{"line":14,"column":230},"end":{"line":14,"column":285}},"21":{"start":{"line":14,"column":261},"end":{"line":14,"column":283}},"22":{"start":{"line":14,"column":299},"end":{"line":14,"column":301}},"23":{"start":{"line":14,"column":331},"end":{"line":14,"column":387}},"24":{"start":{"line":14,"column":389},"end":{"line":14,"column":669}},"25":{"start":{"line":14,"column":412},"end":{"line":14,"column":667}},"26":{"start":{"line":14,"column":477},"end":{"line":14,"column":549}},"27":{"start":{"line":14,"column":551},"end":{"line":14,"column":665}},"28":{"start":{"line":14,"column":589},"end":{"line":14,"column":630}},"29":{"start":{"line":14,"column":640},"end":{"line":14,"column":663}},"30":{"start":{"line":14,"column":670},"end":{"line":14,"column":694}},"31":{"start":{"line":14,"column":695},"end":{"line":14,"column":733}},"32":{"start":{"line":14,"column":708},"end":{"line":14,"column":731}},"33":{"start":{"line":14,"column":734},"end":{"line":14,"column":748}},"34":{"start":{"line":16,"column":18},"end":{"line":26,"column":2}},"35":{"start":{"line":27,"column":21},"end":{"line":32,"column":2}},"36":{"start":{"line":33,"column":0},"end":{"line":37,"column":3}},"37":{"start":{"line":39,"column":15},"end":{"line":39,"column":81}},"38":{"start":{"line":41,"column":0},"end":{"line":43,"column":3}},"39":{"start":{"line":42,"column":2},"end":{"line":42,"column":26}},"40":{"start":{"line":44,"column":20},"end":{"line":48,"column":1}},"41":{"start":{"line":49,"column":0},"end":{"line":49,"column":38}}},"fnMap":{"0":{"name":"_typeof","decl":{"start":{"line":3,"column":9},"end":{"line":3,"column":16}},"loc":{"start":{"line":3,"column":22},"end":{"line":3,"column":378}},"line":3},"1":{"name":"_typeof","decl":{"start":{"line":3,"column":145},"end":{"line":3,"column":152}},"loc":{"start":{"line":3,"column":158},"end":{"line":3,"column":180}},"line":3},"2":{"name":"_typeof","decl":{"start":{"line":3,"column":210},"end":{"line":3,"column":217}},"loc":{"start":{"line":3,"column":223},"end":{"line":3,"column":352}},"line":3},"3":{"name":"_getRequireWildcardCache","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":33}},"loc":{"start":{"line":12,"column":36},"end":{"line":12,"column":210}},"line":12},"4":{"name":"_getRequireWildcardCache","decl":{"start":{"line":12,"column":149},"end":{"line":12,"column":173}},"loc":{"start":{"line":12,"column":176},"end":{"line":12,"column":193}},"line":12},"5":{"name":"_interopRequireWildcard","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":32}},"loc":{"start":{"line":14,"column":38},"end":{"line":14,"column":750}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":41,"column":34},"end":{"line":41,"column":35}},"loc":{"start":{"line":41,"column":47},"end":{"line":43,"column":1}},"line":41}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":355}},"type":"if","locations":[{"start":{"line":3,"column":51},"end":{"line":3,"column":355}},{"start":{"line":3,"column":51},"end":{"line":3,"column":355}}],"line":3},"1":{"loc":{"start":{"line":3,"column":55},"end":{"line":3,"column":122}},"type":"binary-expr","locations":[{"start":{"line":3,"column":55},"end":{"line":3,"column":83}},{"start":{"line":3,"column":87},"end":{"line":3,"column":122}}],"line":3},"2":{"loc":{"start":{"line":3,"column":232},"end":{"line":3,"column":349}},"type":"cond-expr","locations":[{"start":{"line":3,"column":328},"end":{"line":3,"column":336}},{"start":{"line":3,"column":339},"end":{"line":3,"column":349}}],"line":3},"3":{"loc":{"start":{"line":3,"column":232},"end":{"line":3,"column":325}},"type":"binary-expr","locations":[{"start":{"line":3,"column":232},"end":{"line":3,"column":235}},{"start":{"line":3,"column":239},"end":{"line":3,"column":267}},{"start":{"line":3,"column":271},"end":{"line":3,"column":297}},{"start":{"line":3,"column":301},"end":{"line":3,"column":325}}],"line":3},"4":{"loc":{"start":{"line":12,"column":38},"end":{"line":12,"column":85}},"type":"if","locations":[{"start":{"line":12,"column":38},"end":{"line":12,"column":85}},{"start":{"line":12,"column":38},"end":{"line":12,"column":85}}],"line":12},"5":{"loc":{"start":{"line":14,"column":40},"end":{"line":14,"column":82}},"type":"if","locations":[{"start":{"line":14,"column":40},"end":{"line":14,"column":82}},{"start":{"line":14,"column":40},"end":{"line":14,"column":82}}],"line":14},"6":{"loc":{"start":{"line":14,"column":44},"end":{"line":14,"column":65}},"type":"binary-expr","locations":[{"start":{"line":14,"column":44},"end":{"line":14,"column":47}},{"start":{"line":14,"column":51},"end":{"line":14,"column":65}}],"line":14},"7":{"loc":{"start":{"line":14,"column":83},"end":{"line":14,"column":189}},"type":"if","locations":[{"start":{"line":14,"column":83},"end":{"line":14,"column":189}},{"start":{"line":14,"column":83},"end":{"line":14,"column":189}}],"line":14},"8":{"loc":{"start":{"line":14,"column":87},"end":{"line":14,"column":157}},"type":"binary-expr","locations":[{"start":{"line":14,"column":87},"end":{"line":14,"column":99}},{"start":{"line":14,"column":103},"end":{"line":14,"column":128}},{"start":{"line":14,"column":132},"end":{"line":14,"column":157}}],"line":14},"9":{"loc":{"start":{"line":14,"column":230},"end":{"line":14,"column":285}},"type":"if","locations":[{"start":{"line":14,"column":230},"end":{"line":14,"column":285}},{"start":{"line":14,"column":230},"end":{"line":14,"column":285}}],"line":14},"10":{"loc":{"start":{"line":14,"column":234},"end":{"line":14,"column":257}},"type":"binary-expr","locations":[{"start":{"line":14,"column":234},"end":{"line":14,"column":239}},{"start":{"line":14,"column":243},"end":{"line":14,"column":257}}],"line":14},"11":{"loc":{"start":{"line":14,"column":331},"end":{"line":14,"column":387}},"type":"binary-expr","locations":[{"start":{"line":14,"column":331},"end":{"line":14,"column":352}},{"start":{"line":14,"column":356},"end":{"line":14,"column":387}}],"line":14},"12":{"loc":{"start":{"line":14,"column":412},"end":{"line":14,"column":667}},"type":"if","locations":[{"start":{"line":14,"column":412},"end":{"line":14,"column":667}},{"start":{"line":14,"column":412},"end":{"line":14,"column":667}}],"line":14},"13":{"loc":{"start":{"line":14,"column":477},"end":{"line":14,"column":549}},"type":"cond-expr","locations":[{"start":{"line":14,"column":501},"end":{"line":14,"column":542}},{"start":{"line":14,"column":545},"end":{"line":14,"column":549}}],"line":14},"14":{"loc":{"start":{"line":14,"column":551},"end":{"line":14,"column":665}},"type":"if","locations":[{"start":{"line":14,"column":551},"end":{"line":14,"column":665}},{"start":{"line":14,"column":551},"end":{"line":14,"column":665}}],"line":14},"15":{"loc":{"start":{"line":14,"column":555},"end":{"line":14,"column":585}},"type":"binary-expr","locations":[{"start":{"line":14,"column":555},"end":{"line":14,"column":559}},{"start":{"line":14,"column":564},"end":{"line":14,"column":572}},{"start":{"line":14,"column":576},"end":{"line":14,"column":584}}],"line":14},"16":{"loc":{"start":{"line":14,"column":695},"end":{"line":14,"column":733}},"type":"if","locations":[{"start":{"line":14,"column":695},"end":{"line":14,"column":733}},{"start":{"line":14,"column":695},"end":{"line":14,"column":733}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":0,"19":1,"20":1,"21":0,"22":1,"23":1,"24":1,"25":51,"26":9,"27":9,"28":0,"29":9,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":0,"40":1,"41":1},"f":{"0":1,"1":1,"2":0,"3":1,"4":0,"5":1,"6":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0],"4":[0,1],"5":[0,1],"6":[1,1],"7":[0,1],"8":[1,1,0],"9":[0,1],"10":[1,1],"11":[1,1],"12":[9,42],"13":[9,0],"14":[0,9],"15":[9,9,9],"16":[1,0]},"inputSourceMap":{"version":3,"sources":["Location.js"],"names":["pointSchema","mongoose","Schema","type","String","required","coordinates","Number","LocationSchema","name","geoLocation","index","background","Location","model","createIndexes","e","console","error","LocationModel"],"mappings":";;;;;;;;;AAAA;;;;;;AAEA,IAAMA,WAAW,GAAG,IAAIC,qBAASC,MAAb,CAAoB;AACtCC,EAAAA,IAAI,EAAE;AACJA,IAAAA,IAAI,EAAEC,MADF;AAEJ,YAAM,CAAC,OAAD,CAFF;AAGJC,IAAAA,QAAQ,EAAE;AAHN,GADgC;AAMtCC,EAAAA,WAAW,EAAE;AACXH,IAAAA,IAAI,EAAE,CAACI,MAAD,CADK;AAEXF,IAAAA,QAAQ,EAAE;AAFC;AANyB,CAApB,CAApB;AAYA,IAAMG,cAAc,GAAG,IAAIN,gBAAJ,CAAW;AAChCO,EAAAA,IAAI,EAAEL,MAD0B;AAEhCM,EAAAA,WAAW,EAAE;AACXP,IAAAA,IAAI,EAAEH;AADK;AAFmB,CAAX,CAAvB;AAOAQ,cAAc,CAACG,KAAf,CAAqB;AAAED,EAAAA,WAAW,EAAE;AAAf,CAArB,EAAkD;AAAEE,EAAAA,UAAU,EAAE;AAAd,CAAlD;;AAEA,IAAMC,QAAQ,GAAGZ,qBAASa,KAAT,CAAe,UAAf,EAA2BN,cAA3B,EAA2C,UAA3C,CAAjB;;AAEAK,QAAQ,CAACE,aAAT,YAA+B,UAACC,CAAD;AAAA,SAAOC,OAAO,CAACC,KAAR,CAAcF,CAAd,CAAP;AAAA,CAA/B;AAEO,IAAMG,aAAa,GAAG;AAC3BnB,EAAAA,WAAW,EAAXA,WAD2B;AAE3Ba,EAAAA,QAAQ,EAARA,QAF2B;AAG3BL,EAAAA,cAAc,EAAdA;AAH2B,CAAtB","sourceRoot":"E:\\GitHub\\where-to-go-app\\backend\\src\\models\\","sourcesContent":["import mongoose, { mongo, Schema } from 'mongoose';\r\n\r\nconst pointSchema = new mongoose.Schema({\r\n  type: {\r\n    type: String,\r\n    enum: ['Point'],\r\n    required: true,\r\n  },\r\n  coordinates: {\r\n    type: [Number],\r\n    required: true,\r\n  },\r\n});\r\n\r\nconst LocationSchema = new Schema({\r\n  name: String,\r\n  geoLocation: {\r\n    type: pointSchema,\r\n  },\r\n});\r\n\r\nLocationSchema.index({ geoLocation: '2dsphere' }, { background: false });\r\n\r\nconst Location = mongoose.model('Location', LocationSchema, 'Location');\r\n\r\nLocation.createIndexes().catch((e) => console.error(e));\r\n\r\nexport const LocationModel = {\r\n  pointSchema,\r\n  Location,\r\n  LocationSchema,\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"25bc35ef2cf1fa54315eb59ea737f7985a4ec854","contentHash":"85efcd64d815d90b870194cb266fba767a72011a9351109090a9edd93ee8282d"},"E:\\GitHub\\where-to-go-app\\backend\\src\\models\\ProtocolRating.js":{"path":"E:\\GitHub\\where-to-go-app\\backend\\src\\models\\ProtocolRating.js","statementMap":{"0":{"start":{"line":3,"column":51},"end":{"line":3,"column":355}},"1":{"start":{"line":3,"column":126},"end":{"line":3,"column":181}},"2":{"start":{"line":3,"column":160},"end":{"line":3,"column":178}},"3":{"start":{"line":3,"column":191},"end":{"line":3,"column":353}},"4":{"start":{"line":3,"column":225},"end":{"line":3,"column":350}},"5":{"start":{"line":3,"column":356},"end":{"line":3,"column":376}},"6":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":37}},"8":{"start":{"line":10,"column":16},"end":{"line":10,"column":60}},"9":{"start":{"line":12,"column":16},"end":{"line":12,"column":37}},"10":{"start":{"line":14,"column":38},"end":{"line":14,"column":85}},"11":{"start":{"line":14,"column":73},"end":{"line":14,"column":85}},"12":{"start":{"line":14,"column":98},"end":{"line":14,"column":111}},"13":{"start":{"line":14,"column":113},"end":{"line":14,"column":194}},"14":{"start":{"line":14,"column":178},"end":{"line":14,"column":191}},"15":{"start":{"line":14,"column":195},"end":{"line":14,"column":208}},"16":{"start":{"line":16,"column":40},"end":{"line":16,"column":82}},"17":{"start":{"line":16,"column":69},"end":{"line":16,"column":80}},"18":{"start":{"line":16,"column":83},"end":{"line":16,"column":189}},"19":{"start":{"line":16,"column":161},"end":{"line":16,"column":187}},"20":{"start":{"line":16,"column":202},"end":{"line":16,"column":228}},"21":{"start":{"line":16,"column":230},"end":{"line":16,"column":285}},"22":{"start":{"line":16,"column":261},"end":{"line":16,"column":283}},"23":{"start":{"line":16,"column":299},"end":{"line":16,"column":301}},"24":{"start":{"line":16,"column":331},"end":{"line":16,"column":387}},"25":{"start":{"line":16,"column":389},"end":{"line":16,"column":669}},"26":{"start":{"line":16,"column":412},"end":{"line":16,"column":667}},"27":{"start":{"line":16,"column":477},"end":{"line":16,"column":549}},"28":{"start":{"line":16,"column":551},"end":{"line":16,"column":665}},"29":{"start":{"line":16,"column":589},"end":{"line":16,"column":630}},"30":{"start":{"line":16,"column":640},"end":{"line":16,"column":663}},"31":{"start":{"line":16,"column":670},"end":{"line":16,"column":694}},"32":{"start":{"line":16,"column":695},"end":{"line":16,"column":733}},"33":{"start":{"line":16,"column":708},"end":{"line":16,"column":731}},"34":{"start":{"line":16,"column":734},"end":{"line":16,"column":748}},"35":{"start":{"line":18,"column":27},"end":{"line":23,"column":2}},"36":{"start":{"line":24,"column":0},"end":{"line":28,"column":3}},"37":{"start":{"line":30,"column":21},"end":{"line":30,"column":105}},"38":{"start":{"line":32,"column":0},"end":{"line":34,"column":3}},"39":{"start":{"line":33,"column":2},"end":{"line":33,"column":26}},"40":{"start":{"line":35,"column":26},"end":{"line":38,"column":1}},"41":{"start":{"line":39,"column":0},"end":{"line":39,"column":50}}},"fnMap":{"0":{"name":"_typeof","decl":{"start":{"line":3,"column":9},"end":{"line":3,"column":16}},"loc":{"start":{"line":3,"column":22},"end":{"line":3,"column":378}},"line":3},"1":{"name":"_typeof","decl":{"start":{"line":3,"column":145},"end":{"line":3,"column":152}},"loc":{"start":{"line":3,"column":158},"end":{"line":3,"column":180}},"line":3},"2":{"name":"_typeof","decl":{"start":{"line":3,"column":210},"end":{"line":3,"column":217}},"loc":{"start":{"line":3,"column":223},"end":{"line":3,"column":352}},"line":3},"3":{"name":"_getRequireWildcardCache","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":33}},"loc":{"start":{"line":14,"column":36},"end":{"line":14,"column":210}},"line":14},"4":{"name":"_getRequireWildcardCache","decl":{"start":{"line":14,"column":149},"end":{"line":14,"column":173}},"loc":{"start":{"line":14,"column":176},"end":{"line":14,"column":193}},"line":14},"5":{"name":"_interopRequireWildcard","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":32}},"loc":{"start":{"line":16,"column":38},"end":{"line":16,"column":750}},"line":16},"6":{"name":"(anonymous_6)","decl":{"start":{"line":32,"column":40},"end":{"line":32,"column":41}},"loc":{"start":{"line":32,"column":53},"end":{"line":34,"column":1}},"line":32}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":355}},"type":"if","locations":[{"start":{"line":3,"column":51},"end":{"line":3,"column":355}},{"start":{"line":3,"column":51},"end":{"line":3,"column":355}}],"line":3},"1":{"loc":{"start":{"line":3,"column":55},"end":{"line":3,"column":122}},"type":"binary-expr","locations":[{"start":{"line":3,"column":55},"end":{"line":3,"column":83}},{"start":{"line":3,"column":87},"end":{"line":3,"column":122}}],"line":3},"2":{"loc":{"start":{"line":3,"column":232},"end":{"line":3,"column":349}},"type":"cond-expr","locations":[{"start":{"line":3,"column":328},"end":{"line":3,"column":336}},{"start":{"line":3,"column":339},"end":{"line":3,"column":349}}],"line":3},"3":{"loc":{"start":{"line":3,"column":232},"end":{"line":3,"column":325}},"type":"binary-expr","locations":[{"start":{"line":3,"column":232},"end":{"line":3,"column":235}},{"start":{"line":3,"column":239},"end":{"line":3,"column":267}},{"start":{"line":3,"column":271},"end":{"line":3,"column":297}},{"start":{"line":3,"column":301},"end":{"line":3,"column":325}}],"line":3},"4":{"loc":{"start":{"line":14,"column":38},"end":{"line":14,"column":85}},"type":"if","locations":[{"start":{"line":14,"column":38},"end":{"line":14,"column":85}},{"start":{"line":14,"column":38},"end":{"line":14,"column":85}}],"line":14},"5":{"loc":{"start":{"line":16,"column":40},"end":{"line":16,"column":82}},"type":"if","locations":[{"start":{"line":16,"column":40},"end":{"line":16,"column":82}},{"start":{"line":16,"column":40},"end":{"line":16,"column":82}}],"line":16},"6":{"loc":{"start":{"line":16,"column":44},"end":{"line":16,"column":65}},"type":"binary-expr","locations":[{"start":{"line":16,"column":44},"end":{"line":16,"column":47}},{"start":{"line":16,"column":51},"end":{"line":16,"column":65}}],"line":16},"7":{"loc":{"start":{"line":16,"column":83},"end":{"line":16,"column":189}},"type":"if","locations":[{"start":{"line":16,"column":83},"end":{"line":16,"column":189}},{"start":{"line":16,"column":83},"end":{"line":16,"column":189}}],"line":16},"8":{"loc":{"start":{"line":16,"column":87},"end":{"line":16,"column":157}},"type":"binary-expr","locations":[{"start":{"line":16,"column":87},"end":{"line":16,"column":99}},{"start":{"line":16,"column":103},"end":{"line":16,"column":128}},{"start":{"line":16,"column":132},"end":{"line":16,"column":157}}],"line":16},"9":{"loc":{"start":{"line":16,"column":230},"end":{"line":16,"column":285}},"type":"if","locations":[{"start":{"line":16,"column":230},"end":{"line":16,"column":285}},{"start":{"line":16,"column":230},"end":{"line":16,"column":285}}],"line":16},"10":{"loc":{"start":{"line":16,"column":234},"end":{"line":16,"column":257}},"type":"binary-expr","locations":[{"start":{"line":16,"column":234},"end":{"line":16,"column":239}},{"start":{"line":16,"column":243},"end":{"line":16,"column":257}}],"line":16},"11":{"loc":{"start":{"line":16,"column":331},"end":{"line":16,"column":387}},"type":"binary-expr","locations":[{"start":{"line":16,"column":331},"end":{"line":16,"column":352}},{"start":{"line":16,"column":356},"end":{"line":16,"column":387}}],"line":16},"12":{"loc":{"start":{"line":16,"column":412},"end":{"line":16,"column":667}},"type":"if","locations":[{"start":{"line":16,"column":412},"end":{"line":16,"column":667}},{"start":{"line":16,"column":412},"end":{"line":16,"column":667}}],"line":16},"13":{"loc":{"start":{"line":16,"column":477},"end":{"line":16,"column":549}},"type":"cond-expr","locations":[{"start":{"line":16,"column":501},"end":{"line":16,"column":542}},{"start":{"line":16,"column":545},"end":{"line":16,"column":549}}],"line":16},"14":{"loc":{"start":{"line":16,"column":551},"end":{"line":16,"column":665}},"type":"if","locations":[{"start":{"line":16,"column":551},"end":{"line":16,"column":665}},{"start":{"line":16,"column":551},"end":{"line":16,"column":665}}],"line":16},"15":{"loc":{"start":{"line":16,"column":555},"end":{"line":16,"column":585}},"type":"binary-expr","locations":[{"start":{"line":16,"column":555},"end":{"line":16,"column":559}},{"start":{"line":16,"column":564},"end":{"line":16,"column":572}},{"start":{"line":16,"column":576},"end":{"line":16,"column":584}}],"line":16},"16":{"loc":{"start":{"line":16,"column":695},"end":{"line":16,"column":733}},"type":"if","locations":[{"start":{"line":16,"column":695},"end":{"line":16,"column":733}},{"start":{"line":16,"column":695},"end":{"line":16,"column":733}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":1,"14":0,"15":1,"16":1,"17":0,"18":1,"19":0,"20":1,"21":1,"22":0,"23":1,"24":1,"25":1,"26":51,"27":9,"28":9,"29":0,"30":9,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":0,"40":1,"41":1},"f":{"0":1,"1":1,"2":0,"3":1,"4":0,"5":1,"6":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0],"4":[0,1],"5":[0,1],"6":[1,1],"7":[0,1],"8":[1,1,0],"9":[0,1],"10":[1,1],"11":[1,1],"12":[9,42],"13":[9,0],"14":[0,9],"15":[9,9,9],"16":[1,0]},"inputSourceMap":{"version":3,"sources":["ProtocolRating.js"],"names":["ProtocolRatingSchema","Schema","geoLocation","LocationModel","pointSchema","user","String","ratingId","Number","value","index","background","ProtocolRating","mongoose","model","createIndexes","e","console","error","ProtocolRatingModel"],"mappings":";;;;;;;;;AAAA;;AACA;;;;;;AAEA,IAAMA,oBAAoB,GAAG,IAAIC,gBAAJ,CAAW;AACtCC,EAAAA,WAAW,EAAEC,wBAAcC,WADW;AAEtCC,EAAAA,IAAI,EAAEC,MAFgC;AAGtCC,EAAAA,QAAQ,EAAEC,MAH4B;AAItCC,EAAAA,KAAK,EAAED;AAJ+B,CAAX,CAA7B;AAOAR,oBAAoB,CAACU,KAArB,CAA2B;AAAER,EAAAA,WAAW,EAAE;AAAf,CAA3B,EAAwD;AAAES,EAAAA,UAAU,EAAE;AAAd,CAAxD;;AAEA,IAAMC,cAAc,GAAGC,qBAASC,KAAT,CACrB,gBADqB,EAErBd,oBAFqB,EAGrB,gBAHqB,CAAvB;;AAMAY,cAAc,CAACG,aAAf,YAAqC,UAACC,CAAD;AAAA,SAAOC,OAAO,CAACC,KAAR,CAAcF,CAAd,CAAP;AAAA,CAArC;AAEO,IAAMG,mBAAmB,GAAG;AACjCP,EAAAA,cAAc,EAAdA,cADiC;AAEjCZ,EAAAA,oBAAoB,EAApBA;AAFiC,CAA5B","sourceRoot":"E:\\GitHub\\where-to-go-app\\backend\\src\\models\\","sourcesContent":["import mongoose, { mongo, Schema } from 'mongoose';\r\nimport { LocationModel } from './Location';\r\n\r\nconst ProtocolRatingSchema = new Schema({\r\n  geoLocation: LocationModel.pointSchema,\r\n  user: String,\r\n  ratingId: Number,\r\n  value: Number,\r\n});\r\n\r\nProtocolRatingSchema.index({ geoLocation: '2dsphere' }, { background: false });\r\n\r\nconst ProtocolRating = mongoose.model(\r\n  'ProtocolRating',\r\n  ProtocolRatingSchema,\r\n  'ProtocolRating'\r\n);\r\n\r\nProtocolRating.createIndexes().catch((e) => console.error(e));\r\n\r\nexport const ProtocolRatingModel = {\r\n  ProtocolRating,\r\n  ProtocolRatingSchema,\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"12506ba00243179ca7afa2f5f1efa246249c6a09","contentHash":"cc0ee28e799c504eb04aae3cf83bef5a9416bde078ed556c06c5aa0b1e1a2e4b"},"E:\\GitHub\\where-to-go-app\\backend\\src\\controllers\\location.controller.js":{"path":"E:\\GitHub\\where-to-go-app\\backend\\src\\controllers\\location.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":36}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":45}},"3":{"start":{"line":10,"column":25},"end":{"line":10,"column":63}},"4":{"start":{"line":12,"column":54},"end":{"line":12,"column":73}},"5":{"start":{"line":12,"column":75},"end":{"line":12,"column":326}},"6":{"start":{"line":12,"column":125},"end":{"line":12,"column":161}},"7":{"start":{"line":12,"column":163},"end":{"line":12,"column":292}},"8":{"start":{"line":12,"column":183},"end":{"line":12,"column":292}},"9":{"start":{"line":12,"column":225},"end":{"line":12,"column":288}},"10":{"start":{"line":12,"column":293},"end":{"line":12,"column":324}},"11":{"start":{"line":12,"column":327},"end":{"line":12,"column":339}},"12":{"start":{"line":14,"column":33},"end":{"line":14,"column":517}},"13":{"start":{"line":14,"column":46},"end":{"line":14,"column":47}},"14":{"start":{"line":14,"column":91},"end":{"line":14,"column":131}},"15":{"start":{"line":14,"column":133},"end":{"line":14,"column":515}},"16":{"start":{"line":14,"column":146},"end":{"line":14,"column":247}},"17":{"start":{"line":14,"column":201},"end":{"line":14,"column":243}},"18":{"start":{"line":14,"column":255},"end":{"line":14,"column":515}},"19":{"start":{"line":14,"column":295},"end":{"line":14,"column":369}},"20":{"start":{"line":14,"column":379},"end":{"line":14,"column":513}},"21":{"start":{"line":14,"column":428},"end":{"line":14,"column":509}},"22":{"start":{"line":14,"column":518},"end":{"line":14,"column":532}},"23":{"start":{"line":16,"column":44},"end":{"line":16,"column":195}},"24":{"start":{"line":16,"column":62},"end":{"line":16,"column":166}},"25":{"start":{"line":16,"column":176},"end":{"line":16,"column":193}},"26":{"start":{"line":16,"column":196},"end":{"line":16,"column":207}},"27":{"start":{"line":18,"column":77},"end":{"line":18,"column":175}},"28":{"start":{"line":18,"column":94},"end":{"line":18,"column":107}},"29":{"start":{"line":18,"column":121},"end":{"line":18,"column":131}},"30":{"start":{"line":18,"column":151},"end":{"line":18,"column":165}},"31":{"start":{"line":18,"column":166},"end":{"line":18,"column":173}},"32":{"start":{"line":18,"column":176},"end":{"line":18,"column":263}},"33":{"start":{"line":18,"column":193},"end":{"line":18,"column":208}},"34":{"start":{"line":18,"column":218},"end":{"line":18,"column":261}},"35":{"start":{"line":20,"column":33},"end":{"line":20,"column":387}},"36":{"start":{"line":20,"column":65},"end":{"line":20,"column":69}},"37":{"start":{"line":20,"column":78},"end":{"line":20,"column":87}},"38":{"start":{"line":20,"column":89},"end":{"line":20,"column":384}},"39":{"start":{"line":20,"column":147},"end":{"line":20,"column":167}},"40":{"start":{"line":20,"column":193},"end":{"line":20,"column":264}},"41":{"start":{"line":20,"column":290},"end":{"line":20,"column":360}},"42":{"start":{"line":20,"column":363},"end":{"line":20,"column":380}},"43":{"start":{"line":22,"column":31},"end":{"line":75,"column":3}},"44":{"start":{"line":23,"column":13},"end":{"line":70,"column":5}},"45":{"start":{"line":25,"column":4},"end":{"line":69,"column":16}},"46":{"start":{"line":26,"column":6},"end":{"line":68,"column":7}},"47":{"start":{"line":27,"column":8},"end":{"line":67,"column":9}},"48":{"start":{"line":29,"column":12},"end":{"line":29,"column":30}},"49":{"start":{"line":30,"column":12},"end":{"line":40,"column":15}},"50":{"start":{"line":43,"column":12},"end":{"line":43,"column":37}},"51":{"start":{"line":45,"column":12},"end":{"line":48,"column":13}},"52":{"start":{"line":46,"column":14},"end":{"line":46,"column":32}},"53":{"start":{"line":47,"column":14},"end":{"line":47,"column":20}},"54":{"start":{"line":50,"column":12},"end":{"line":50,"column":76}},"55":{"start":{"line":53,"column":12},"end":{"line":53,"column":30}},"56":{"start":{"line":54,"column":12},"end":{"line":56,"column":15}},"57":{"start":{"line":59,"column":12},"end":{"line":59,"column":48}},"58":{"start":{"line":60,"column":12},"end":{"line":62,"column":16}},"59":{"start":{"line":66,"column":12},"end":{"line":66,"column":35}},"60":{"start":{"line":72,"column":2},"end":{"line":74,"column":4}},"61":{"start":{"line":73,"column":4},"end":{"line":73,"column":39}},"62":{"start":{"line":77,"column":31},"end":{"line":141,"column":3}},"63":{"start":{"line":78,"column":14},"end":{"line":136,"column":5}},"64":{"start":{"line":80,"column":4},"end":{"line":135,"column":34}},"65":{"start":{"line":81,"column":6},"end":{"line":134,"column":7}},"66":{"start":{"line":82,"column":8},"end":{"line":133,"column":9}},"67":{"start":{"line":84,"column":12},"end":{"line":84,"column":31}},"68":{"start":{"line":85,"column":12},"end":{"line":85,"column":31}},"69":{"start":{"line":86,"column":12},"end":{"line":97,"column":15}},"70":{"start":{"line":100,"column":12},"end":{"line":100,"column":44}},"71":{"start":{"line":102,"column":12},"end":{"line":105,"column":13}},"72":{"start":{"line":103,"column":14},"end":{"line":103,"column":33}},"73":{"start":{"line":104,"column":14},"end":{"line":104,"column":20}},"74":{"start":{"line":107,"column":12},"end":{"line":107,"column":59}},"75":{"start":{"line":110,"column":12},"end":{"line":116,"column":15}},"76":{"start":{"line":117,"column":12},"end":{"line":117,"column":31}},"77":{"start":{"line":118,"column":12},"end":{"line":118,"column":38}},"78":{"start":{"line":121,"column":12},"end":{"line":123,"column":16}},"79":{"start":{"line":126,"column":12},"end":{"line":126,"column":32}},"80":{"start":{"line":127,"column":12},"end":{"line":127,"column":49}},"81":{"start":{"line":128,"column":12},"end":{"line":128,"column":31}},"82":{"start":{"line":132,"column":12},"end":{"line":132,"column":36}},"83":{"start":{"line":138,"column":2},"end":{"line":140,"column":4}},"84":{"start":{"line":139,"column":4},"end":{"line":139,"column":40}},"85":{"start":{"line":143,"column":37},"end":{"line":226,"column":3}},"86":{"start":{"line":144,"column":14},"end":{"line":221,"column":5}},"87":{"start":{"line":146,"column":4},"end":{"line":220,"column":34}},"88":{"start":{"line":147,"column":6},"end":{"line":219,"column":7}},"89":{"start":{"line":148,"column":8},"end":{"line":218,"column":9}},"90":{"start":{"line":150,"column":12},"end":{"line":150,"column":31}},"91":{"start":{"line":151,"column":12},"end":{"line":151,"column":31}},"92":{"start":{"line":152,"column":12},"end":{"line":163,"column":15}},"93":{"start":{"line":166,"column":12},"end":{"line":166,"column":40}},"94":{"start":{"line":168,"column":12},"end":{"line":171,"column":13}},"95":{"start":{"line":169,"column":14},"end":{"line":169,"column":33}},"96":{"start":{"line":170,"column":14},"end":{"line":170,"column":20}},"97":{"start":{"line":173,"column":12},"end":{"line":173,"column":95}},"98":{"start":{"line":176,"column":12},"end":{"line":176,"column":31}},"99":{"start":{"line":177,"column":12},"end":{"line":187,"column":15}},"100":{"start":{"line":190,"column":12},"end":{"line":190,"column":39}},"101":{"start":{"line":191,"column":12},"end":{"line":194,"column":15}},"102":{"start":{"line":195,"column":12},"end":{"line":195,"column":32}},"103":{"start":{"line":196,"column":12},"end":{"line":196,"column":45}},"104":{"start":{"line":199,"column":12},"end":{"line":199,"column":32}},"105":{"start":{"line":200,"column":12},"end":{"line":202,"column":15}},"106":{"start":{"line":205,"column":12},"end":{"line":205,"column":49}},"107":{"start":{"line":206,"column":12},"end":{"line":208,"column":16}},"108":{"start":{"line":211,"column":12},"end":{"line":211,"column":32}},"109":{"start":{"line":212,"column":12},"end":{"line":212,"column":49}},"110":{"start":{"line":213,"column":12},"end":{"line":213,"column":42}},"111":{"start":{"line":217,"column":12},"end":{"line":217,"column":36}},"112":{"start":{"line":223,"column":2},"end":{"line":225,"column":4}},"113":{"start":{"line":224,"column":4},"end":{"line":224,"column":40}},"114":{"start":{"line":228,"column":25},"end":{"line":232,"column":1}},"115":{"start":{"line":233,"column":0},"end":{"line":233,"column":48}}},"fnMap":{"0":{"name":"ownKeys","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":16}},"loc":{"start":{"line":12,"column":41},"end":{"line":12,"column":341}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":208},"end":{"line":12,"column":209}},"loc":{"start":{"line":12,"column":223},"end":{"line":12,"column":290}},"line":12},"2":{"name":"_objectSpread","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":22}},"loc":{"start":{"line":14,"column":31},"end":{"line":14,"column":534}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":14,"column":184},"end":{"line":14,"column":185}},"loc":{"start":{"line":14,"column":199},"end":{"line":14,"column":245}},"line":14},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":411},"end":{"line":14,"column":412}},"loc":{"start":{"line":14,"column":426},"end":{"line":14,"column":511}},"line":14},"5":{"name":"_defineProperty","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":24}},"loc":{"start":{"line":16,"column":42},"end":{"line":16,"column":209}},"line":16},"6":{"name":"asyncGeneratorStep","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":27}},"loc":{"start":{"line":18,"column":75},"end":{"line":18,"column":265}},"line":18},"7":{"name":"_asyncToGenerator","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":26}},"loc":{"start":{"line":20,"column":31},"end":{"line":20,"column":389}},"line":20},"8":{"name":"(anonymous_8)","decl":{"start":{"line":20,"column":40},"end":{"line":20,"column":41}},"loc":{"start":{"line":20,"column":52},"end":{"line":20,"column":386}},"line":20},"9":{"name":"(anonymous_9)","decl":{"start":{"line":20,"column":108},"end":{"line":20,"column":109}},"loc":{"start":{"line":20,"column":135},"end":{"line":20,"column":382}},"line":20},"10":{"name":"_next","decl":{"start":{"line":20,"column":178},"end":{"line":20,"column":183}},"loc":{"start":{"line":20,"column":191},"end":{"line":20,"column":266}},"line":20},"11":{"name":"_throw","decl":{"start":{"line":20,"column":276},"end":{"line":20,"column":282}},"loc":{"start":{"line":20,"column":288},"end":{"line":20,"column":362}},"line":20},"12":{"name":"(anonymous_12)","decl":{"start":{"line":22,"column":31},"end":{"line":22,"column":32}},"loc":{"start":{"line":22,"column":43},"end":{"line":75,"column":1}},"line":22},"13":{"name":"_callee","decl":{"start":{"line":23,"column":78},"end":{"line":23,"column":85}},"loc":{"start":{"line":23,"column":94},"end":{"line":70,"column":3}},"line":23},"14":{"name":"_callee$","decl":{"start":{"line":25,"column":44},"end":{"line":25,"column":52}},"loc":{"start":{"line":25,"column":63},"end":{"line":69,"column":5}},"line":25},"15":{"name":"getLocation","decl":{"start":{"line":72,"column":18},"end":{"line":72,"column":29}},"loc":{"start":{"line":72,"column":34},"end":{"line":74,"column":3}},"line":72},"16":{"name":"(anonymous_16)","decl":{"start":{"line":77,"column":31},"end":{"line":77,"column":32}},"loc":{"start":{"line":77,"column":43},"end":{"line":141,"column":1}},"line":77},"17":{"name":"_callee2","decl":{"start":{"line":78,"column":79},"end":{"line":78,"column":87}},"loc":{"start":{"line":78,"column":104},"end":{"line":136,"column":3}},"line":78},"18":{"name":"_callee2$","decl":{"start":{"line":80,"column":44},"end":{"line":80,"column":53}},"loc":{"start":{"line":80,"column":65},"end":{"line":135,"column":5}},"line":80},"19":{"name":"addLocation","decl":{"start":{"line":138,"column":18},"end":{"line":138,"column":29}},"loc":{"start":{"line":138,"column":40},"end":{"line":140,"column":3}},"line":138},"20":{"name":"(anonymous_20)","decl":{"start":{"line":143,"column":37},"end":{"line":143,"column":38}},"loc":{"start":{"line":143,"column":49},"end":{"line":226,"column":1}},"line":143},"21":{"name":"_callee3","decl":{"start":{"line":144,"column":79},"end":{"line":144,"column":87}},"loc":{"start":{"line":144,"column":104},"end":{"line":221,"column":3}},"line":144},"22":{"name":"_callee3$","decl":{"start":{"line":146,"column":44},"end":{"line":146,"column":53}},"loc":{"start":{"line":146,"column":65},"end":{"line":220,"column":5}},"line":146},"23":{"name":"noteForAssistance","decl":{"start":{"line":223,"column":18},"end":{"line":223,"column":35}},"loc":{"start":{"line":223,"column":46},"end":{"line":225,"column":3}},"line":223}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":75},"end":{"line":12,"column":326}},"type":"if","locations":[{"start":{"line":12,"column":75},"end":{"line":12,"column":326}},{"start":{"line":12,"column":75},"end":{"line":12,"column":326}}],"line":12},"1":{"loc":{"start":{"line":12,"column":163},"end":{"line":12,"column":292}},"type":"if","locations":[{"start":{"line":12,"column":163},"end":{"line":12,"column":292}},{"start":{"line":12,"column":163},"end":{"line":12,"column":292}}],"line":12},"2":{"loc":{"start":{"line":14,"column":91},"end":{"line":14,"column":131}},"type":"cond-expr","locations":[{"start":{"line":14,"column":114},"end":{"line":14,"column":126}},{"start":{"line":14,"column":129},"end":{"line":14,"column":131}}],"line":14},"3":{"loc":{"start":{"line":14,"column":133},"end":{"line":14,"column":515}},"type":"if","locations":[{"start":{"line":14,"column":133},"end":{"line":14,"column":515}},{"start":{"line":14,"column":133},"end":{"line":14,"column":515}}],"line":14},"4":{"loc":{"start":{"line":14,"column":255},"end":{"line":14,"column":515}},"type":"if","locations":[{"start":{"line":14,"column":255},"end":{"line":14,"column":515}},{"start":{"line":14,"column":255},"end":{"line":14,"column":515}}],"line":14},"5":{"loc":{"start":{"line":16,"column":44},"end":{"line":16,"column":195}},"type":"if","locations":[{"start":{"line":16,"column":44},"end":{"line":16,"column":195}},{"start":{"line":16,"column":44},"end":{"line":16,"column":195}}],"line":16},"6":{"loc":{"start":{"line":18,"column":176},"end":{"line":18,"column":263}},"type":"if","locations":[{"start":{"line":18,"column":176},"end":{"line":18,"column":263}},{"start":{"line":18,"column":176},"end":{"line":18,"column":263}}],"line":18},"7":{"loc":{"start":{"line":27,"column":8},"end":{"line":67,"column":9}},"type":"switch","locations":[{"start":{"line":28,"column":10},"end":{"line":40,"column":15}},{"start":{"line":42,"column":10},"end":{"line":50,"column":76}},{"start":{"line":52,"column":10},"end":{"line":56,"column":15}},{"start":{"line":58,"column":10},"end":{"line":62,"column":16}},{"start":{"line":64,"column":10},"end":{"line":64,"column":17}},{"start":{"line":65,"column":10},"end":{"line":66,"column":35}}],"line":27},"8":{"loc":{"start":{"line":45,"column":12},"end":{"line":48,"column":13}},"type":"if","locations":[{"start":{"line":45,"column":12},"end":{"line":48,"column":13}},{"start":{"line":45,"column":12},"end":{"line":48,"column":13}}],"line":45},"9":{"loc":{"start":{"line":82,"column":8},"end":{"line":133,"column":9}},"type":"switch","locations":[{"start":{"line":83,"column":10},"end":{"line":97,"column":15}},{"start":{"line":99,"column":10},"end":{"line":107,"column":59}},{"start":{"line":109,"column":10},"end":{"line":118,"column":38}},{"start":{"line":120,"column":10},"end":{"line":123,"column":16}},{"start":{"line":125,"column":10},"end":{"line":128,"column":31}},{"start":{"line":130,"column":10},"end":{"line":130,"column":18}},{"start":{"line":131,"column":10},"end":{"line":132,"column":36}}],"line":82},"10":{"loc":{"start":{"line":102,"column":12},"end":{"line":105,"column":13}},"type":"if","locations":[{"start":{"line":102,"column":12},"end":{"line":105,"column":13}},{"start":{"line":102,"column":12},"end":{"line":105,"column":13}}],"line":102},"11":{"loc":{"start":{"line":148,"column":8},"end":{"line":218,"column":9}},"type":"switch","locations":[{"start":{"line":149,"column":10},"end":{"line":163,"column":15}},{"start":{"line":165,"column":10},"end":{"line":173,"column":95}},{"start":{"line":175,"column":10},"end":{"line":187,"column":15}},{"start":{"line":189,"column":10},"end":{"line":196,"column":45}},{"start":{"line":198,"column":10},"end":{"line":202,"column":15}},{"start":{"line":204,"column":10},"end":{"line":208,"column":16}},{"start":{"line":210,"column":10},"end":{"line":213,"column":42}},{"start":{"line":215,"column":10},"end":{"line":215,"column":18}},{"start":{"line":216,"column":10},"end":{"line":217,"column":36}}],"line":148},"12":{"loc":{"start":{"line":168,"column":12},"end":{"line":171,"column":13}},"type":"if","locations":[{"start":{"line":168,"column":12},"end":{"line":171,"column":13}},{"start":{"line":168,"column":12},"end":{"line":171,"column":13}}],"line":168}},"s":{"0":1,"1":1,"2":1,"3":1,"4":6,"5":6,"6":6,"7":6,"8":6,"9":0,"10":6,"11":6,"12":6,"13":6,"14":9,"15":9,"16":6,"17":12,"18":3,"19":3,"20":0,"21":0,"22":6,"23":12,"24":0,"25":12,"26":12,"27":19,"28":19,"29":15,"30":4,"31":4,"32":15,"33":3,"34":12,"35":3,"36":7,"37":7,"38":7,"39":7,"40":19,"41":0,"42":7,"43":1,"44":1,"45":3,"46":10,"47":11,"48":3,"49":3,"50":3,"51":3,"52":1,"53":1,"54":2,"55":1,"56":1,"57":1,"58":1,"59":3,"60":1,"61":3,"62":1,"63":1,"64":2,"65":8,"66":9,"67":2,"68":2,"69":2,"70":2,"71":2,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":2,"83":1,"84":2,"85":1,"86":1,"87":2,"88":10,"89":11,"90":2,"91":2,"92":2,"93":2,"94":2,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":2,"112":1,"113":2,"114":1,"115":1},"f":{"0":6,"1":0,"2":6,"3":12,"4":0,"5":12,"6":19,"7":3,"8":7,"9":7,"10":19,"11":0,"12":1,"13":3,"14":10,"15":3,"16":1,"17":2,"18":8,"19":2,"20":1,"21":2,"22":10,"23":2},"b":{"0":[6,0],"1":[6,0],"2":[9,0],"3":[6,3],"4":[3,0],"5":[0,12],"6":[3,12],"7":[3,3,1,1,0,3],"8":[1,2],"9":[2,2,1,1,1,0,2],"10":[1,1],"11":[2,2,1,1,1,1,1,0,2],"12":[1,1]},"inputSourceMap":{"version":3,"sources":["location.controller.js"],"names":["getLocation","latlng","LocationModel","Location","findOne","geoLocation","$near","$geometry","type","coordinates","$maxDistance","location","Error","AssistanceEntries","AssistanceEntryModel","countDocuments","predictedAssistance","toObject","addLocation","user","name","locationExists","newLocation","save","noteForAssistance","find","email","hasEntries","location_","newAssistanceEntry","locationController"],"mappings":"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","sourceRoot":"E:\\GitHub\\where-to-go-app\\backend\\src\\controllers\\","sourcesContent":["import { LocationModel } from '../models/Location';\nimport { AssistanceEntries } from '../models/AssistanceEntries';\n\nconst getLocation = async (latlng) => {\n  const location = await LocationModel.Location.findOne({\n    geoLocation: {\n      $near: {\n        $geometry: {\n          type: 'Point',\n          coordinates: latlng,\n        },\n        $maxDistance: 20,\n      },\n    },\n  });\n  if (!location) {\n    throw new Error('Esta localizacin no ha sido registrada an.');\n  }\n  const predictedAssistance = await AssistanceEntries.AssistanceEntryModel.countDocuments(\n    {\n      location: location,\n    }\n  );\n  return { ...location.toObject(), predictedAssistance };\n};\n\nconst addLocation = async (location, user) => {\n  try {\n    const locationExists = await LocationModel.Location.findOne({\n      geoLocation: {\n        $near: {\n          $geometry: {\n            type: 'Point',\n            coordinates: location.coordinates,\n          },\n          $maxDistance: 20,\n        },\n      },\n      name: location.name,\n    });\n    if (locationExists) {\n      throw new Error('Esta localizacin ya existe');\n    }\n    const newLocation = new LocationModel.Location({\n      name: location.name,\n      geoLocation: {\n        type: 'Point',\n        coordinates: location.coordinates,\n      },\n    });\n    await newLocation.save();\n    return { ...newLocation.toObject(), predictedAssistance: 0 };\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst noteForAssistance = async (location, user) => {\n  try {\n    const hasEntries = await AssistanceEntries.AssistanceEntryModel.find({\n      'location.geoLocation': {\n        $near: {\n          $geometry: {\n            type: 'Point',\n            coordinates: location.coordinates,\n          },\n          $maxDistance: 20,\n        },\n      },\n      user: user.email,\n    });\n    if (hasEntries[0] != null) {\n      throw new Error(\n        'El usuario ya ha indicado su asistencia para esta localizacin.'\n      );\n    }\n    const location_ = await LocationModel.Location.findOne({\n      geoLocation: {\n        $near: {\n          $geometry: {\n            type: 'Point',\n            coordinates: location.coordinates,\n          },\n          $maxDistance: 20,\n        },\n      },\n    });\n    const newAssistanceEntry = new AssistanceEntries.AssistanceEntryModel({\n      user: user.email,\n      location: location_,\n    });\n    await newAssistanceEntry.save();\n\n    const predictedAssistance = await AssistanceEntries.AssistanceEntryModel.countDocuments(\n      {\n        location: location_,\n      }\n    );\n    return { ...location_.toObject(), predictedAssistance };\n  } catch (error) {\n    throw new Error(error);\n  }\n};\n\nexport const locationController = {\n  getLocation,\n  addLocation,\n  noteForAssistance,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8092edf4bc1875d477cdd28a4935e9674e5bbcaa","contentHash":"cb2ec5b17b1879640ba56099172a04fec5ade411f8e45a76d2c9dc9a6ca355b6"},"E:\\GitHub\\where-to-go-app\\backend\\src\\models\\AssistanceEntries.js":{"path":"E:\\GitHub\\where-to-go-app\\backend\\src\\models\\AssistanceEntries.js","statementMap":{"0":{"start":{"line":3,"column":51},"end":{"line":3,"column":355}},"1":{"start":{"line":3,"column":126},"end":{"line":3,"column":181}},"2":{"start":{"line":3,"column":160},"end":{"line":3,"column":178}},"3":{"start":{"line":3,"column":191},"end":{"line":3,"column":353}},"4":{"start":{"line":3,"column":225},"end":{"line":3,"column":350}},"5":{"start":{"line":3,"column":356},"end":{"line":3,"column":376}},"6":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}},"8":{"start":{"line":10,"column":16},"end":{"line":10,"column":60}},"9":{"start":{"line":12,"column":16},"end":{"line":12,"column":45}},"10":{"start":{"line":14,"column":38},"end":{"line":14,"column":85}},"11":{"start":{"line":14,"column":73},"end":{"line":14,"column":85}},"12":{"start":{"line":14,"column":98},"end":{"line":14,"column":111}},"13":{"start":{"line":14,"column":113},"end":{"line":14,"column":194}},"14":{"start":{"line":14,"column":178},"end":{"line":14,"column":191}},"15":{"start":{"line":14,"column":195},"end":{"line":14,"column":208}},"16":{"start":{"line":16,"column":40},"end":{"line":16,"column":82}},"17":{"start":{"line":16,"column":69},"end":{"line":16,"column":80}},"18":{"start":{"line":16,"column":83},"end":{"line":16,"column":189}},"19":{"start":{"line":16,"column":161},"end":{"line":16,"column":187}},"20":{"start":{"line":16,"column":202},"end":{"line":16,"column":228}},"21":{"start":{"line":16,"column":230},"end":{"line":16,"column":285}},"22":{"start":{"line":16,"column":261},"end":{"line":16,"column":283}},"23":{"start":{"line":16,"column":299},"end":{"line":16,"column":301}},"24":{"start":{"line":16,"column":331},"end":{"line":16,"column":387}},"25":{"start":{"line":16,"column":389},"end":{"line":16,"column":669}},"26":{"start":{"line":16,"column":412},"end":{"line":16,"column":667}},"27":{"start":{"line":16,"column":477},"end":{"line":16,"column":549}},"28":{"start":{"line":16,"column":551},"end":{"line":16,"column":665}},"29":{"start":{"line":16,"column":589},"end":{"line":16,"column":630}},"30":{"start":{"line":16,"column":640},"end":{"line":16,"column":663}},"31":{"start":{"line":16,"column":670},"end":{"line":16,"column":694}},"32":{"start":{"line":16,"column":695},"end":{"line":16,"column":733}},"33":{"start":{"line":16,"column":708},"end":{"line":16,"column":731}},"34":{"start":{"line":16,"column":734},"end":{"line":16,"column":748}},"35":{"start":{"line":18,"column":28},"end":{"line":26,"column":2}},"36":{"start":{"line":27,"column":27},"end":{"line":27,"column":122}},"37":{"start":{"line":28,"column":24},"end":{"line":31,"column":1}},"38":{"start":{"line":32,"column":0},"end":{"line":32,"column":46}}},"fnMap":{"0":{"name":"_typeof","decl":{"start":{"line":3,"column":9},"end":{"line":3,"column":16}},"loc":{"start":{"line":3,"column":22},"end":{"line":3,"column":378}},"line":3},"1":{"name":"_typeof","decl":{"start":{"line":3,"column":145},"end":{"line":3,"column":152}},"loc":{"start":{"line":3,"column":158},"end":{"line":3,"column":180}},"line":3},"2":{"name":"_typeof","decl":{"start":{"line":3,"column":210},"end":{"line":3,"column":217}},"loc":{"start":{"line":3,"column":223},"end":{"line":3,"column":352}},"line":3},"3":{"name":"_getRequireWildcardCache","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":33}},"loc":{"start":{"line":14,"column":36},"end":{"line":14,"column":210}},"line":14},"4":{"name":"_getRequireWildcardCache","decl":{"start":{"line":14,"column":149},"end":{"line":14,"column":173}},"loc":{"start":{"line":14,"column":176},"end":{"line":14,"column":193}},"line":14},"5":{"name":"_interopRequireWildcard","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":32}},"loc":{"start":{"line":16,"column":38},"end":{"line":16,"column":750}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":355}},"type":"if","locations":[{"start":{"line":3,"column":51},"end":{"line":3,"column":355}},{"start":{"line":3,"column":51},"end":{"line":3,"column":355}}],"line":3},"1":{"loc":{"start":{"line":3,"column":55},"end":{"line":3,"column":122}},"type":"binary-expr","locations":[{"start":{"line":3,"column":55},"end":{"line":3,"column":83}},{"start":{"line":3,"column":87},"end":{"line":3,"column":122}}],"line":3},"2":{"loc":{"start":{"line":3,"column":232},"end":{"line":3,"column":349}},"type":"cond-expr","locations":[{"start":{"line":3,"column":328},"end":{"line":3,"column":336}},{"start":{"line":3,"column":339},"end":{"line":3,"column":349}}],"line":3},"3":{"loc":{"start":{"line":3,"column":232},"end":{"line":3,"column":325}},"type":"binary-expr","locations":[{"start":{"line":3,"column":232},"end":{"line":3,"column":235}},{"start":{"line":3,"column":239},"end":{"line":3,"column":267}},{"start":{"line":3,"column":271},"end":{"line":3,"column":297}},{"start":{"line":3,"column":301},"end":{"line":3,"column":325}}],"line":3},"4":{"loc":{"start":{"line":14,"column":38},"end":{"line":14,"column":85}},"type":"if","locations":[{"start":{"line":14,"column":38},"end":{"line":14,"column":85}},{"start":{"line":14,"column":38},"end":{"line":14,"column":85}}],"line":14},"5":{"loc":{"start":{"line":16,"column":40},"end":{"line":16,"column":82}},"type":"if","locations":[{"start":{"line":16,"column":40},"end":{"line":16,"column":82}},{"start":{"line":16,"column":40},"end":{"line":16,"column":82}}],"line":16},"6":{"loc":{"start":{"line":16,"column":44},"end":{"line":16,"column":65}},"type":"binary-expr","locations":[{"start":{"line":16,"column":44},"end":{"line":16,"column":47}},{"start":{"line":16,"column":51},"end":{"line":16,"column":65}}],"line":16},"7":{"loc":{"start":{"line":16,"column":83},"end":{"line":16,"column":189}},"type":"if","locations":[{"start":{"line":16,"column":83},"end":{"line":16,"column":189}},{"start":{"line":16,"column":83},"end":{"line":16,"column":189}}],"line":16},"8":{"loc":{"start":{"line":16,"column":87},"end":{"line":16,"column":157}},"type":"binary-expr","locations":[{"start":{"line":16,"column":87},"end":{"line":16,"column":99}},{"start":{"line":16,"column":103},"end":{"line":16,"column":128}},{"start":{"line":16,"column":132},"end":{"line":16,"column":157}}],"line":16},"9":{"loc":{"start":{"line":16,"column":230},"end":{"line":16,"column":285}},"type":"if","locations":[{"start":{"line":16,"column":230},"end":{"line":16,"column":285}},{"start":{"line":16,"column":230},"end":{"line":16,"column":285}}],"line":16},"10":{"loc":{"start":{"line":16,"column":234},"end":{"line":16,"column":257}},"type":"binary-expr","locations":[{"start":{"line":16,"column":234},"end":{"line":16,"column":239}},{"start":{"line":16,"column":243},"end":{"line":16,"column":257}}],"line":16},"11":{"loc":{"start":{"line":16,"column":331},"end":{"line":16,"column":387}},"type":"binary-expr","locations":[{"start":{"line":16,"column":331},"end":{"line":16,"column":352}},{"start":{"line":16,"column":356},"end":{"line":16,"column":387}}],"line":16},"12":{"loc":{"start":{"line":16,"column":412},"end":{"line":16,"column":667}},"type":"if","locations":[{"start":{"line":16,"column":412},"end":{"line":16,"column":667}},{"start":{"line":16,"column":412},"end":{"line":16,"column":667}}],"line":16},"13":{"loc":{"start":{"line":16,"column":477},"end":{"line":16,"column":549}},"type":"cond-expr","locations":[{"start":{"line":16,"column":501},"end":{"line":16,"column":542}},{"start":{"line":16,"column":545},"end":{"line":16,"column":549}}],"line":16},"14":{"loc":{"start":{"line":16,"column":551},"end":{"line":16,"column":665}},"type":"if","locations":[{"start":{"line":16,"column":551},"end":{"line":16,"column":665}},{"start":{"line":16,"column":551},"end":{"line":16,"column":665}}],"line":16},"15":{"loc":{"start":{"line":16,"column":555},"end":{"line":16,"column":585}},"type":"binary-expr","locations":[{"start":{"line":16,"column":555},"end":{"line":16,"column":559}},{"start":{"line":16,"column":564},"end":{"line":16,"column":572}},{"start":{"line":16,"column":576},"end":{"line":16,"column":584}}],"line":16},"16":{"loc":{"start":{"line":16,"column":695},"end":{"line":16,"column":733}},"type":"if","locations":[{"start":{"line":16,"column":695},"end":{"line":16,"column":733}},{"start":{"line":16,"column":695},"end":{"line":16,"column":733}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":1,"14":0,"15":1,"16":1,"17":0,"18":1,"19":0,"20":1,"21":1,"22":0,"23":1,"24":1,"25":1,"26":51,"27":9,"28":9,"29":0,"30":9,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1},"f":{"0":1,"1":1,"2":0,"3":1,"4":0,"5":1},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0],"4":[0,1],"5":[0,1],"6":[1,1],"7":[0,1],"8":[1,1,0],"9":[0,1],"10":[1,1],"11":[1,1],"12":[9,42],"13":[9,0],"14":[0,9],"15":[9,9,9],"16":[1,0]},"inputSourceMap":{"version":3,"sources":["AssistanceEntries.js"],"names":["AssistanceEntrySchema","mongoose","Schema","location","LocationModel","LocationSchema","user","String","createdAt","type","Date","expires","now","AssistanceEntryModel","model","AssistanceEntries"],"mappings":";;;;;;;;;AAAA;;AACA;;;;;;AAEA,IAAMA,qBAAqB,GAAG,IAAIC,qBAASC,MAAb,CAAoB;AAChDC,EAAAA,QAAQ,EAAEC,wBAAcC,cADwB;AAEhDC,EAAAA,IAAI,EAAEC,MAF0C;AAGhDC,EAAAA,SAAS,EAAE;AACTC,IAAAA,IAAI,EAAEC,IADG;AAETC,IAAAA,OAAO,EAAE,KAFA;AAGT,eAASD,IAAI,CAACE;AAHL;AAHqC,CAApB,CAA9B;AAUA,IAAMC,oBAAoB,GAAG,IAAIZ,qBAASa,KAAb,CAC3B,mBAD2B,EAE3Bd,qBAF2B,EAG3B,mBAH2B,CAA7B;AAMO,IAAMe,iBAAiB,GAAG;AAC/Bf,EAAAA,qBAAqB,EAArBA,qBAD+B;AAE/Ba,EAAAA,oBAAoB,EAApBA;AAF+B,CAA1B","sourceRoot":"E:\\GitHub\\where-to-go-app\\backend\\src\\models\\","sourcesContent":["import mongoose, { mongo, Schema } from 'mongoose';\nimport { LocationModel } from '../models/Location';\n\nconst AssistanceEntrySchema = new mongoose.Schema({\n  location: LocationModel.LocationSchema,\n  user: String,\n  createdAt: {\n    type: Date,\n    expires: 86400,\n    default: Date.now,\n  },\n});\n\nconst AssistanceEntryModel = new mongoose.model(\n  'AssistanceEntries',\n  AssistanceEntrySchema,\n  'AssistanceEntries'\n);\n\nexport const AssistanceEntries = {\n  AssistanceEntrySchema,\n  AssistanceEntryModel,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fd86a354d26a9d5182a32f2dc0b1a8e7d4cde590","contentHash":"7991c9cb3c436a7ef467f7bed445d36ceb07102a47f0b744fe8a3fe3e66746f1"},"E:\\GitHub\\where-to-go-app\\backend\\src\\controllers\\protocolRating.controller.js":{"path":"E:\\GitHub\\where-to-go-app\\backend\\src\\controllers\\protocolRating.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":42}},"2":{"start":{"line":8,"column":22},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":77},"end":{"line":10,"column":175}},"4":{"start":{"line":10,"column":94},"end":{"line":10,"column":107}},"5":{"start":{"line":10,"column":121},"end":{"line":10,"column":131}},"6":{"start":{"line":10,"column":151},"end":{"line":10,"column":165}},"7":{"start":{"line":10,"column":166},"end":{"line":10,"column":173}},"8":{"start":{"line":10,"column":176},"end":{"line":10,"column":263}},"9":{"start":{"line":10,"column":193},"end":{"line":10,"column":208}},"10":{"start":{"line":10,"column":218},"end":{"line":10,"column":261}},"11":{"start":{"line":12,"column":33},"end":{"line":12,"column":387}},"12":{"start":{"line":12,"column":65},"end":{"line":12,"column":69}},"13":{"start":{"line":12,"column":78},"end":{"line":12,"column":87}},"14":{"start":{"line":12,"column":89},"end":{"line":12,"column":384}},"15":{"start":{"line":12,"column":147},"end":{"line":12,"column":167}},"16":{"start":{"line":12,"column":193},"end":{"line":12,"column":264}},"17":{"start":{"line":12,"column":290},"end":{"line":12,"column":360}},"18":{"start":{"line":12,"column":363},"end":{"line":12,"column":380}},"19":{"start":{"line":14,"column":32},"end":{"line":105,"column":3}},"20":{"start":{"line":15,"column":13},"end":{"line":100,"column":5}},"21":{"start":{"line":17,"column":4},"end":{"line":99,"column":34}},"22":{"start":{"line":18,"column":6},"end":{"line":98,"column":7}},"23":{"start":{"line":19,"column":8},"end":{"line":97,"column":9}},"24":{"start":{"line":21,"column":12},"end":{"line":21,"column":31}},"25":{"start":{"line":22,"column":12},"end":{"line":33,"column":15}},"26":{"start":{"line":36,"column":12},"end":{"line":36,"column":38}},"27":{"start":{"line":38,"column":12},"end":{"line":41,"column":13}},"28":{"start":{"line":39,"column":14},"end":{"line":39,"column":33}},"29":{"start":{"line":40,"column":14},"end":{"line":40,"column":20}},"30":{"start":{"line":43,"column":12},"end":{"line":46,"column":15}},"31":{"start":{"line":49,"column":12},"end":{"line":49,"column":31}},"32":{"start":{"line":50,"column":12},"end":{"line":80,"column":17}},"33":{"start":{"line":51,"column":26},"end":{"line":75,"column":17}},"34":{"start":{"line":53,"column":16},"end":{"line":74,"column":28}},"35":{"start":{"line":54,"column":18},"end":{"line":73,"column":19}},"36":{"start":{"line":55,"column":20},"end":{"line":72,"column":21}},"37":{"start":{"line":57,"column":24},"end":{"line":65,"column":27}},"38":{"start":{"line":66,"column":24},"end":{"line":66,"column":42}},"39":{"start":{"line":67,"column":24},"end":{"line":67,"column":50}},"40":{"start":{"line":71,"column":24},"end":{"line":71,"column":47}},"41":{"start":{"line":77,"column":14},"end":{"line":79,"column":16}},"42":{"start":{"line":78,"column":16},"end":{"line":78,"column":52}},"43":{"start":{"line":81,"column":12},"end":{"line":84,"column":15}},"44":{"start":{"line":87,"column":12},"end":{"line":87,"column":32}},"45":{"start":{"line":88,"column":12},"end":{"line":88,"column":49}},"46":{"start":{"line":89,"column":12},"end":{"line":92,"column":15}},"47":{"start":{"line":96,"column":12},"end":{"line":96,"column":36}},"48":{"start":{"line":102,"column":2},"end":{"line":104,"column":4}},"49":{"start":{"line":103,"column":4},"end":{"line":103,"column":39}},"50":{"start":{"line":107,"column":46},"end":{"line":181,"column":3}},"51":{"start":{"line":108,"column":14},"end":{"line":176,"column":5}},"52":{"start":{"line":110,"column":4},"end":{"line":175,"column":17}},"53":{"start":{"line":111,"column":6},"end":{"line":174,"column":7}},"54":{"start":{"line":112,"column":8},"end":{"line":173,"column":9}},"55":{"start":{"line":114,"column":12},"end":{"line":114,"column":26}},"56":{"start":{"line":115,"column":12},"end":{"line":115,"column":31}},"57":{"start":{"line":116,"column":12},"end":{"line":126,"column":22}},"58":{"start":{"line":129,"column":12},"end":{"line":129,"column":43}},"59":{"start":{"line":130,"column":12},"end":{"line":130,"column":31}},"60":{"start":{"line":131,"column":12},"end":{"line":151,"column":23}},"61":{"start":{"line":154,"column":12},"end":{"line":154,"column":43}},"62":{"start":{"line":156,"column":12},"end":{"line":160,"column":13}},"63":{"start":{"line":157,"column":14},"end":{"line":159,"column":17}},"64":{"start":{"line":158,"column":16},"end":{"line":158,"column":45}},"65":{"start":{"line":162,"column":12},"end":{"line":168,"column":15}},"66":{"start":{"line":164,"column":16},"end":{"line":164,"column":29}},"67":{"start":{"line":172,"column":12},"end":{"line":172,"column":36}},"68":{"start":{"line":178,"column":2},"end":{"line":180,"column":4}},"69":{"start":{"line":179,"column":4},"end":{"line":179,"column":40}},"70":{"start":{"line":183,"column":31},"end":{"line":186,"column":1}},"71":{"start":{"line":187,"column":0},"end":{"line":187,"column":60}}},"fnMap":{"0":{"name":"asyncGeneratorStep","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":27}},"loc":{"start":{"line":10,"column":75},"end":{"line":10,"column":265}},"line":10},"1":{"name":"_asyncToGenerator","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":26}},"loc":{"start":{"line":12,"column":31},"end":{"line":12,"column":389}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":40},"end":{"line":12,"column":41}},"loc":{"start":{"line":12,"column":52},"end":{"line":12,"column":386}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":108},"end":{"line":12,"column":109}},"loc":{"start":{"line":12,"column":135},"end":{"line":12,"column":382}},"line":12},"4":{"name":"_next","decl":{"start":{"line":12,"column":178},"end":{"line":12,"column":183}},"loc":{"start":{"line":12,"column":191},"end":{"line":12,"column":266}},"line":12},"5":{"name":"_throw","decl":{"start":{"line":12,"column":276},"end":{"line":12,"column":282}},"loc":{"start":{"line":12,"column":288},"end":{"line":12,"column":362}},"line":12},"6":{"name":"(anonymous_6)","decl":{"start":{"line":14,"column":32},"end":{"line":14,"column":33}},"loc":{"start":{"line":14,"column":44},"end":{"line":105,"column":1}},"line":14},"7":{"name":"_callee2","decl":{"start":{"line":15,"column":78},"end":{"line":15,"column":86}},"loc":{"start":{"line":15,"column":101},"end":{"line":100,"column":3}},"line":15},"8":{"name":"_callee2$","decl":{"start":{"line":17,"column":44},"end":{"line":17,"column":53}},"loc":{"start":{"line":17,"column":65},"end":{"line":99,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":50,"column":49},"end":{"line":50,"column":50}},"loc":{"start":{"line":50,"column":61},"end":{"line":80,"column":13}},"line":50},"10":{"name":"_callee","decl":{"start":{"line":51,"column":91},"end":{"line":51,"column":98}},"loc":{"start":{"line":51,"column":114},"end":{"line":75,"column":15}},"line":51},"11":{"name":"_callee$","decl":{"start":{"line":53,"column":56},"end":{"line":53,"column":64}},"loc":{"start":{"line":53,"column":75},"end":{"line":74,"column":17}},"line":53},"12":{"name":"(anonymous_12)","decl":{"start":{"line":77,"column":21},"end":{"line":77,"column":22}},"loc":{"start":{"line":77,"column":41},"end":{"line":79,"column":15}},"line":77},"13":{"name":"rateLocation","decl":{"start":{"line":102,"column":18},"end":{"line":102,"column":30}},"loc":{"start":{"line":102,"column":40},"end":{"line":104,"column":3}},"line":102},"14":{"name":"(anonymous_14)","decl":{"start":{"line":107,"column":46},"end":{"line":107,"column":47}},"loc":{"start":{"line":107,"column":58},"end":{"line":181,"column":1}},"line":107},"15":{"name":"_callee3","decl":{"start":{"line":108,"column":79},"end":{"line":108,"column":87}},"loc":{"start":{"line":108,"column":104},"end":{"line":176,"column":3}},"line":108},"16":{"name":"_callee3$","decl":{"start":{"line":110,"column":44},"end":{"line":110,"column":53}},"loc":{"start":{"line":110,"column":65},"end":{"line":175,"column":5}},"line":110},"17":{"name":"(anonymous_17)","decl":{"start":{"line":157,"column":36},"end":{"line":157,"column":37}},"loc":{"start":{"line":157,"column":53},"end":{"line":159,"column":15}},"line":157},"18":{"name":"(anonymous_18)","decl":{"start":{"line":163,"column":62},"end":{"line":163,"column":63}},"loc":{"start":{"line":163,"column":78},"end":{"line":165,"column":15}},"line":163},"19":{"name":"getLocationRatingsAverages","decl":{"start":{"line":178,"column":18},"end":{"line":178,"column":44}},"loc":{"start":{"line":178,"column":55},"end":{"line":180,"column":3}},"line":178}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":176},"end":{"line":10,"column":263}},"type":"if","locations":[{"start":{"line":10,"column":176},"end":{"line":10,"column":263}},{"start":{"line":10,"column":176},"end":{"line":10,"column":263}}],"line":10},"1":{"loc":{"start":{"line":19,"column":8},"end":{"line":97,"column":9}},"type":"switch","locations":[{"start":{"line":20,"column":10},"end":{"line":33,"column":15}},{"start":{"line":35,"column":10},"end":{"line":46,"column":15}},{"start":{"line":48,"column":10},"end":{"line":84,"column":15}},{"start":{"line":86,"column":10},"end":{"line":92,"column":15}},{"start":{"line":94,"column":10},"end":{"line":94,"column":18}},{"start":{"line":95,"column":10},"end":{"line":96,"column":36}}],"line":19},"2":{"loc":{"start":{"line":38,"column":12},"end":{"line":41,"column":13}},"type":"if","locations":[{"start":{"line":38,"column":12},"end":{"line":41,"column":13}},{"start":{"line":38,"column":12},"end":{"line":41,"column":13}}],"line":38},"3":{"loc":{"start":{"line":55,"column":20},"end":{"line":72,"column":21}},"type":"switch","locations":[{"start":{"line":56,"column":22},"end":{"line":67,"column":50}},{"start":{"line":69,"column":22},"end":{"line":69,"column":29}},{"start":{"line":70,"column":22},"end":{"line":71,"column":47}}],"line":55},"4":{"loc":{"start":{"line":112,"column":8},"end":{"line":173,"column":9}},"type":"switch","locations":[{"start":{"line":113,"column":10},"end":{"line":126,"column":22}},{"start":{"line":128,"column":10},"end":{"line":151,"column":23}},{"start":{"line":153,"column":10},"end":{"line":168,"column":15}},{"start":{"line":170,"column":10},"end":{"line":170,"column":17}},{"start":{"line":171,"column":10},"end":{"line":172,"column":36}}],"line":112},"5":{"loc":{"start":{"line":156,"column":12},"end":{"line":160,"column":13}},"type":"if","locations":[{"start":{"line":156,"column":12},"end":{"line":160,"column":13}},{"start":{"line":156,"column":12},"end":{"line":160,"column":13}}],"line":156},"6":{"loc":{"start":{"line":163,"column":27},"end":{"line":165,"column":40}},"type":"cond-expr","locations":[{"start":{"line":163,"column":46},"end":{"line":165,"column":34}},{"start":{"line":165,"column":37},"end":{"line":165,"column":40}}],"line":163}},"s":{"0":1,"1":1,"2":1,"3":20,"4":20,"5":20,"6":0,"7":0,"8":20,"9":9,"10":11,"11":3,"12":9,"13":9,"14":9,"15":9,"16":20,"17":0,"18":9,"19":1,"20":1,"21":2,"22":6,"23":7,"24":2,"25":2,"26":2,"27":2,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":5,"35":10,"36":10,"37":5,"38":5,"39":5,"40":5,"41":1,"42":5,"43":1,"44":0,"45":0,"46":0,"47":2,"48":1,"49":2,"50":1,"51":1,"52":2,"53":8,"54":8,"55":2,"56":2,"57":2,"58":2,"59":2,"60":2,"61":2,"62":2,"63":1,"64":5,"65":2,"66":4,"67":2,"68":1,"69":2,"70":1,"71":1},"f":{"0":20,"1":3,"2":9,"3":9,"4":20,"5":0,"6":1,"7":2,"8":6,"9":1,"10":5,"11":10,"12":5,"13":2,"14":1,"15":2,"16":8,"17":5,"18":4,"19":2},"b":{"0":[9,11],"1":[2,2,1,0,0,2],"2":[1,1],"3":[5,5,5],"4":[2,2,2,0,2],"5":[1,1],"6":[1,1]},"inputSourceMap":{"version":3,"sources":["protocolRating.controller.js"],"names":["rateLocation","params","user","ProtocolRatingModel","ProtocolRating","find","email","geoLocation","$near","$geometry","type","coordinates","location","$maxDistance","hasRated","status","message","ratings","forEach","rating","index","ratingEntry","ratingId","value","save","getLocationRatingsAverages","averages","distinct","exec","averagesCount","aggregate","$geoNear","distanceField","spherical","near","maxDistance","$group","_id","average","$avg","$sort","averagesQuery","entry","push","mainAverage","reduce","a","b","length","protocolRatingController"],"mappings":"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","sourceRoot":"E:\\GitHub\\where-to-go-app\\backend\\src\\controllers\\","sourcesContent":["import { ProtocolRatingModel } from '../models/ProtocolRating';\n\nconst rateLocation = async (params, user) => {\n  const hasRated = await ProtocolRatingModel.ProtocolRating.find({\n    user: user.user.email,\n    geoLocation: {\n      $near: {\n        $geometry: {\n          type: 'Point',\n          coordinates: params.location.coordinates,\n        },\n        $maxDistance: 10,\n      },\n    },\n  });\n  if (hasRated[0] != null) {\n    return { status: false, message: 'Ya has valorado esta ubicacin' };\n  }\n  try {\n    params.ratings.forEach(async (rating, index) => {\n      const ratingEntry = new ProtocolRatingModel.ProtocolRating({\n        geoLocation: {\n          type: 'Point',\n          coordinates: params.location.coordinates,\n        },\n        user: user.user.email,\n        ratingId: index,\n        value: rating,\n      });\n      await ratingEntry.save();\n    });\n    return { status: true, message: 'Valoracin realizada correctamente' };\n  } catch (mongoError) {\n    return {\n      status: false,\n      message: 'No se ha podido establecer la conexin con la base de datos.',\n    };\n  }\n};\n\nconst getLocationRatingsAverages = async (location, user) => {\n  const averages = [];\n  const averagesCount = await ProtocolRatingModel.ProtocolRating.distinct(\n    'user',\n    {\n      geoLocation: {\n        $near: {\n          $geometry: {\n            type: 'Point',\n            coordinates: location.coordinates,\n          },\n          $maxDistance: 10,\n        },\n      },\n    }\n  ).exec();\n  var averagesQuery = await ProtocolRatingModel.ProtocolRating.aggregate([\n    {\n      $geoNear: {\n        distanceField: 'distance',\n        spherical: true,\n        near: location.coordinates,\n        maxDistance: 0.00000156,\n      },\n    },\n    {\n      $group: { _id: { ratingId: '$ratingId' }, average: { $avg: '$value' } },\n    },\n    {\n      $sort: { _id: 1 },\n    },\n  ]).exec();\n  if (averagesQuery[0] != null) {\n    averagesQuery.forEach((entry) => {\n      averages.push(entry.average);\n    });\n  }\n  return {\n    mainAverage: averagesQuery[0]\n      ? averages.reduce((a, b) => a + b) / averages.length\n      : 0.0,\n    averagesCount: averagesCount.length,\n    averages,\n  };\n};\n\nexport const protocolRatingController = {\n  rateLocation,\n  getLocationRatingsAverages,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b3ae526425f92bdd33b6eca4423a197c3d708083","contentHash":"a3dc30c86740a5dfc9f0e5b06d700ec64720f8e67cc49772e92927dd7b354c70"}}